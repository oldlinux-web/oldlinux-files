From:     Digestifier <Linux-Activists-Request@senator-bedfellow.mit.edu>
To:       Linux-Activists@senator-bedfellow.mit.edu
Reply-To: Linux-Activists@senator-bedfellow.mit.edu
Date:     Sun, 15 Aug 93 09:13:03 EDT
Subject:  Linux-Activists Digest #118

Linux-Activists Digest #118, Volume #6           Sun, 15 Aug 93 09:13:03 EDT

Contents:
  Re: Is this becoming comp.linux.advocacy? (Tim Smith)
  Re: [Q] Diffs from SysV specs? (Tim Smith)
  Re: where is dump? (Warner Losh)
  What's wrong with SLACKWARE's rshd setup? (Savio Lam)
  Re: Why would I want LINUX? (Byron A Jeff)
  Re: DOSEMU compile? (Byron A Jeff)
  Re: Is this becoming comp.linux.advocacy? (Rick Kelly)
  Re: Are any SIMMs cheap these day$ ? (Rick Kelly)
  Re: TAMU.99p4 won't see BOCA 14.4 internal ( Ian Justman)
  Re: Ctrl-Alt-Del with SLS 1.03 (Iain Lea)
  Re: Mitumi Driver on newer Kernel (Eberhard Moenkeberg)
  Re: Ctrl-Alt-Del with SLS 1.03 (Olaf Schlueter)
  Linux user interface
  emacs 19.18, here are the LINUX patches (Jan van Oorschot)

----------------------------------------------------------------------------

From: tzs@hardy.u.washington.edu (Tim Smith)
Crossposted-To: biz.sco
Subject: Re: Is this becoming comp.linux.advocacy?
Date: 15 Aug 1993 08:41:34 GMT

Keith Smith <keith@ksmith.com> wrote:
>>      While we're at it, how about compilers that actually work? I
>>still don't have a native-tools build of Kerberos under SCO, because
>>cc botches an extension from char to int, so I *have* to use gcc,
>>which means that customers who rebuild from sources also have to...
>
>There is nothing wrong with SCO's compiler.  What version of SCO are we
>talking about here anyway?  I _hate_ this argument.  SCO's compiler is
>basically Microsoft-C 6.0, and is ANSI compliant.  Just because it
>doesn't conform exactly to the way gcc works does not make it "broken".
>
>If it mis-compiles a statement in an un-documented way (not because of a
>header declaration) then it is broken, otherwise it is simply
>*different*.  Personally sometimes I feel the same way about gcc :).  Of

You are mistaken.  Some expressions of the form

        foo->bar[x][y]

are miscompiled when x and y are chars.  The problem is that when the
compiler multiplies x any y by the size of the array elements, it
treats the result as a char, which it then widens to an int to use
as a subscript.  The correct code would widen that char to an int,
and then do the multiply.  To get these expressions to compile right,
you have to write them like this:

        foo->bar[(int)x][(int)y]

This is not just a matter of being different.  This is being broken.
The version of SCO that I found this in is the one I call 3.2.2
(I'm not sure what they called it...they managed to totally confuse
me with their version numbering...).

--Tim Smith

------------------------------

From: tzs@hardy.u.washington.edu (Tim Smith)
Subject: Re: [Q] Diffs from SysV specs?
Date: 15 Aug 1993 08:47:48 GMT

Zack Evans <zevans@nyx.cs.du.edu> wrote:
>>cb    - C program beautifier
>
>Never heard of this until you mentioned it, but you are right, its on
>the Sequent I use. You shouldn't _ever_ write code that needs it of course :)
>No doubt emacs does it...

Actually, emacs can be used as a quite reasonable C beautifier.  Take the
program you want to beautify.  Remove all the newlines and the tabs.  Append
to the end the command your emacs uses to save the file and exit.  Then
just run emacs, feeding in the uglified C as standard input.

--Tim Smith

------------------------------

From: imp@boulder.parcplace.com (Warner Losh)
Subject: Re: where is dump?
Date: Sun, 15 Aug 1993 04:47:16 GMT

In article <1993Aug14.225200.2231@kf8nh.wariat.org>
bsa@kf8nh.wariat.org (Brandon S. Allbery) writes: 
>This can save your *ss if something from half a year ago needs to be restored
>from tape for some reason.  (It happened to me once.)  But, from the same
>period, keeping track of what tape/dump level to use on what day is a bit of
>a problem, because days/weeks/months just don't fit into powers of 2 too well.

That is what tape labels are for :-)

Also, your tape limits assume that the entire backup will fit on one
tape, which may or may not be the case.  It is the case for me since I
have a 525M tape drive and a 250M hard disk.  However, at work, the
situation is reversed since we have about 10G of disk and two 1.3G
tape drives.  It would take 10 tapes to do a level 0, and 3 or 4 to do
level n backups if we were to backup everything all the time.
Fortunately, some of the larger partitions need not be backed up all
the time (like where we do releases, since they are completely
recoverable).

I'd love to see dump/restore on Linux.  They are cryptic, hard to
understand and difficult to master.  However, they do the job quite
well.  And many places have improved them.  For example, Solbourne
ships (or used to ship) dump that works on live file systems and
allows you to define your own media types so you needn't have a string
of odd numbers in your dump command line.  There are many things that
can be done to make dump/restore more friendly.  I have an OI program
that acts as a front end to dump that I used for a long time to backup
my personal workstation (with the live fs patches and media
definitions, it was a simple matter).

Anyway, gnu tar does do a good enough job for what I need it for.  I
don't even bother with daily backups that are just deltas.  I make a
full backup every day or three and every month or so make a level 0
backup tape that I use to keep a snapshot of what I had so if I need
it later, I can go back to it.  I wonder how things will work when I
have a year or twos worth of backups to deal with.

Warner
-- 
Warner Losh             imp@boulder.parcplace.COM       ParcPlace Boulder
I've almost finished my brute force solution to subtlety.

------------------------------

From: lam836@cs.cuhk.hk (Savio Lam)
Subject: What's wrong with SLACKWARE's rshd setup?
Date: Sun, 15 Aug 1993 04:35:21 GMT
Reply-To: lam836@cs.cuhk.hk

My friend and I have installed slackware on our machines. When we both
connect to our school's host with SLIP, I've tried a
'rsh <HisAddress> -l root whoami' and it says 'root'! Why is there such
a *big* security hole? How can prevent others to rsh into my machine
besides 'chmod a-x /usr/etc/in.rshd'?

        Thanks.

Regards,
Savio Lam.

--
###############################################################################
#                                 |        _                                  #
# ------------------------------- |      _| |_                                #
# Lam Lai Yin, Savio              |     |_   _|                               #
#                                 |       | |                                 #
# Internet: lam836@cs.cuhk.hk     |     /     \     Can't live with DOS?      #
# Department of Computer Science  |    |  DOS  |                              #
# Chinese University of Hong Kong |    |       |    Try Linux...              #
# ------------------------------- |    |       |                              #
#                                 |  ^^^^^^^^^^^^^                            #
###############################################################################

------------------------------

From: byron@cc.gatech.edu (Byron A Jeff)
Subject: Re: Why would I want LINUX?
Date: Sun, 15 Aug 1993 04:08:20 GMT

In article <1993Aug15.004932.22015@actrix.gen.nz>,
Nelson Kwai <nelson@actrix.gen.nz> wrote:
>In article <1993Aug14.140824.22421@cc.gatech.edu>,
>Byron A Jeff <byron@cc.gatech.edu> wrote:
>
>.....
>> In the end it really doesn't matter. What matters is to have good reliable
>> code that does the job and good technical support so that clients can get
>> things done. That's what people will pay for.
>
>Does this rule out developing leading technology stuff as the
>competition may buy the product and demand the source ?

Nope. If you completely develop it without involving someone elses code
it's yours to do as you see fit - including withholding it. The basic GNU
premise is that if you value add to something GNU'ed then your clients
have the same access that you have. If you write it completely on your own
then it's yours free and clear. Can someone clarify the lib usage rights?
i.e. If I write something and only use the library do I have to release the
source code, object code, anything? I know bison byproducts ;-) are GNU'ed.
So leave them out. I think the same goes for the regular expression code
in the library. Anything else?

So if it's radical leading edge stuff then write from scratch. If it doesn't
matter then build from GNU stuff that already exists and be prepared to 
release the source code.

BAJ
---
Another random extraction from the mental bit stream of...
Byron A. Jeff - PhD student operating in parallel!
Georgia Tech, Atlanta GA 30332   Internet: byron@cc.gatech.edu

------------------------------

From: byron@cc.gatech.edu (Byron A Jeff)
Subject: Re: DOSEMU compile?
Date: Sun, 15 Aug 1993 04:20:42 GMT

In article <1.10801.2381.0N27915A@satalink.com>,
John Will <john.will@satalink.com> wrote:
>I'm attempting to compile DOSEMU 0.49 that came with the slackware 1.00
>release, I've encountered a couple of problems, one is probably nothing,
>but since I'm asking...
>
>...
>
>gcc  -m486 -DAJT=1    -c bios_emm.c -o bios_emm.o
>bios_emm.c: In function `map_page':
>bios_emm.c:407: warning: initialization of `s_tmp' makes integer from ...
>gcc  -m486 -DAJT=1    -c lpt.c -o lpt.o            ... pointer without a cast

It's nothing.

>
>.... later on, big trouble strikes ....
>
>ld -s  -T 0x20000000 -o libemu emu.o termio.o disks.o keymaps.o timers.o 
>cmos.o mouse.o parse.o dosipc.o cpu.o video.o  xms.o mfs.o bios_emm.o 
>lpt.o serial.o mutex.o   -lc -ltermcap -lipc
>
>ld: No such file or directory for libipc
>make: *** [libemu] Error 1
>
>...
>
>I'm assuming the first warning is probably not a big deal, but I haven't 
>been able to track down just exactly what is missing for the second one, 
>or where it might be.  I'm sure someone has already compiled this, and
>knows just what went wrong. :-)

You're missing an updated copy of DOSEMU. Since the GNU lib 4.4.1 came out
the ipc library has been included. So just remove the -lipc and run make
again.

I compiled it today and it ran like a champ! Robert's in trouble now and
he doesn't even know it yet. ;-) ;-) ;-)

BTW Robert has an updated version on tsx-11.mit.edu:/pub/linux/ALPHA/dosemu/
current.

Later,

BAJ
---
Another random extraction from the mental bit stream of...
Byron A. Jeff - PhD student operating in parallel!
Georgia Tech, Atlanta GA 30332   Internet: byron@cc.gatech.edu

------------------------------

Subject: Re: Is this becoming comp.linux.advocacy?
From: rmk@rmkhome.UUCP (Rick Kelly)
Date: Sat, 14 Aug 1993 19:25:44 GMT
Reply-To: rmk@rmkhome.UUCP (Rick Kelly)

In article <EICHIN.93Aug9160931@tweedledumber.cyGNUs.com> eichin@tweedledumber.cyGNUs.com (Mark Eichin) writes:
>>> device support of SCO, Wanna compare SCO's compatibility list with
>>> Linux's?
>       I hate to jump in like this, but I've got a real story here...
>SCO doesn't seem to support ethernet cards. Oh, sure, there's a long
>compatibility list of network interfaces -- *one* of which is an
>ethernet card (3c503.) They've got token ring, x.25, other random
>stuff... but they don't have NE2000, or any other ethernet card that
>linux did. (I was looking for a card to use under both, because I
>actually had some SCO development to do -- and SCO simplified the
>choice by only supporting one card :-)

SCO network card support on SCO ODT 3.0:

3COM 3C501, 3C503, 3C507

Excelan 205

HP EISA and ISA

Novell NE2000 and NE3200 Bus master 

SMC/WD 8003 and 8013

Looks like a few more than one.  And I left out token ring support.

>       While we're at it, how about compilers that actually work? I
>still don't have a native-tools build of Kerberos under SCO, because
>cc botches an extension from char to int, so I *have* to use gcc,
>which means that customers who rebuild from sources also have to...

Try rcc instead.

cc = Microsoft C

rcc = USL ANSI C

>       And all those groups selling Linux CDROM installations... I
>wish someone would do that for SCO! (SCO + ODT == 45 floppies, and SCO
>has one of the *slowest* floppy drivers I've ever used. It may manage
>to be slower than DOS itself... linux has a very fast floppy driver
>(track buffering etc.) so maybe I'm jaded by it -- Oh Well...)

I always load SCO from tape.




-- 

Rick Kelly    rmk%rmkhome@merk.com    merk!rmkhome!rmk    rmk@frog.UUCP

------------------------------

Subject: Re: Are any SIMMs cheap these day$ ?
From: rmk@rmkhome.UUCP (Rick Kelly)
Date: Sat, 14 Aug 1993 20:24:13 GMT
Reply-To: rmk@rmkhome.UUCP (Rick Kelly)

In article <2490d8$msm@klaava.Helsinki.FI> torvalds@klaava.Helsinki.FI (Linus Torvalds) writes:

>(on some machines, a NMI might be harmless: it's possible that a
>portable would use NMI for some powersaving things, for example.  I
>wouldn't know)
>
>               Linus


Yup.  An NMI can be any general hardware error.  On a laptop it can be
caused by an old NICAD battery whose current curve is out of whack.

-- 

Rick Kelly    rmk%rmkhome@merk.com    merk!rmkhome!rmk    rmk@frog.UUCP

------------------------------

From: ianj@citrus.SAC.CA.US ( Ian Justman )
Subject: Re: TAMU.99p4 won't see BOCA 14.4 internal
Date: Sun, 8 Aug 1993 03:50:49 GMT

Kenneth Benson (kbenson@fireborn.win.net) wrote:
:  
: In article <1993Jul26.153405.24654@convex.com>, Kevin Goodwin (goodwin@convex.com) writes:
: >I have a BOCA 14.4 internal modem that I can't get Linux to initialize
: >at bootup.
: >
: >My configuration is as follows:
: >

<stuff left out for brevity's sake>

: >LPT1 on irq7
: >SoundBlaster on 1rq5

Yes, I know this is about serial ports, but I do need to point one thing out.
You do not really need to worry about the printer port's interrupt since Linux
never uses it anyway.  All SoundBlaster-supporting software uses IRQ7, though
most are adjustable.  Besides, I have yet to see a program make actual use of
the parallel ports' interrupts.  I don't think even the BIOS uses them.  But
correct me if I'm wron.

<additional stuff left out>

: >Thanks,
: >Kevin Goodwin
: >

: Ken
: The FireBorn

-- 
Born to void warranties!        ianj@citrus.SAC.CA.US or ianj@netcom.com

------------------------------

From: iain.lea@anl433.erlm.siemens.de (Iain Lea)
Subject: Re: Ctrl-Alt-Del with SLS 1.03
Date: Sun, 15 Aug 1993 09:15:00 GMT

David Fox (dfox@hip-hop.suvl.ca.us) wrote:
:
: C-A-D is really a DOS thing, and not proper Unix shutdown
: procedure.  I suggest 'shutdown -h now' and hit the reset button
: after you see the "system halted" message.

C-A-D is there (imo) to help the dos user new to linux to feel at home.

Maybe it should be a 'make config' question in the kernel config.

--
iain.lea@erlm.siemens.de  +49-911-3089-407

------------------------------

From: emoenke@gwdu03.gwdg.de (Eberhard Moenkeberg)
Subject: Re: Mitumi Driver on newer Kernel
Date: Sun, 15 Aug 1993 11:27:48 GMT

Todd Ignasiak (ignasiak@rs560.cl.msu.edu) wrote:
: Has anyone successfully compiled the mitsumi driver on a new
: kernel?

: I am trying to get it working with a 0.99 pl11 kernel.

: But, the one it fails on is this:

: mcd.c: In function `void  mcd_data ()':
: mcd.c:728: parse error before `::'

: which is:
:         READ_DATA(MCDPORT(0), &mcd_buf[0], 2048);
: Read_data is defined as:

: #define READ_DATA(port, buf, nr) \
: __asm__("cld;rep;insb"::"d" (port),"D" (buf),"c" (nr):"cx","di")

: and I get a bunch of warnings similar to the one above,  but the is the
: only real error. 

From pl11 on, there has to be a space between the two colons.
Make it
 #define READ_DATA(port, buf, nr) \
 __asm__("cld;rep;insb": :"d" (port),"D" (buf),"c" (nr):"cx","di")

 Eberhard Moenkeberg

------------------------------

From: olaf@oski.toppoint.de (Olaf Schlueter)
Crossposted-To: comp.os.linux.misc
Subject: Re: Ctrl-Alt-Del with SLS 1.03
Date: 15 Aug 1993 12:29:25 +0200

dfox@hip-hop.suvl.ca.us (David Fox) writes:

>C-A-D is really a DOS thing, and not proper Unix shutdown
>procedure.  I suggest 'shutdown -h now' and hit the reset button
>after you see the "system halted" message.

That is exactly, what happens when you type ctrl-alt-del in linux,
init executes 'shutdown -r now'. Look at the powerdown entry in
/etc/inittab.

C-A-D "broke" with the release of loadable kernel keytables. The kernel
checks for K_PCOMMA and K_PDOT (Keypad , or Keypad ., for US and non
US keyboards). If you want the old feature back (i.e., stay
"DOS compatible"), edit your keytable and make the "Delete" Key
K_PDOT or K_PCOMMA with an entry like this:

keycode 111 = KP_Comma Remove Remove

This makes the delete key pretty useless for other purposes (so it was
in pre pl10 kernels), and I prefer it the way it is now.
-- 
Olaf Schlüter, Sandkuhle 4-6, 24103 Kiel, Germany, Toppoint Mailbox e.V.
"Frauen inspirieren den Mann zu grossen Taten und hindern ihn daran,
 sie auszuführen."                                      Kurt Tucholsky

------------------------------

From:  igor@itpm.alma-ata.su ()
Subject: Linux user interface
Date: Sun, 15 Aug 1993 12:56:28 GMT
Reply-To: igor@itpm.alma-ata.su


Hi!

Sorry, if I'm  calling wrong. I've heard much about UNIX
 & X-Windows, I've rewrited Linux. What did I see? 
Command prompt under Linux and terrible user interface 
under XFree. Yes, Linux is more powerful
than DOS, but what end-user must do?  Should he work with 
command prompt ( or as savage XFree as Linux). Linux is 
powerful, but with command prompt only it's just a toy for 
programmers. Can anybody say bad user interface only under Linux 
or on Sun may work only programmers too?

                                        Yours faihtfully,
                                        Igor
                                        igor@itpm.alma-ata.su

P.S. Sorry my English. 


------------------------------

From: etstjan@dutepp2.et.tudelft.nl (Jan van Oorschot)
Subject: emacs 19.18, here are the LINUX patches
Date: Sun, 15 Aug 1993 11:35:29 GMT

Hi,

After playing around with the emacs 19.18 distribution and
getting a lot of help from the net, i put together a patch file.

I could put almost all changes in src/s/linux.h. Just one
thing needed to be changed in src/emacs.c. Maybe somebody could 
have a look at that one. I have got this feeling that, using 
a correct gcc compiler option, the inclusion of ..... could be avoided,
so the patch to emacs.c is not needed.

I used a clean Slackware 1.01 distribution (pl12, IPC included).

Here goes:
   
diff -r -c emacs-19.18/src/emacs.c emacs-19.18.patched/src/emacs.c
*** emacs-19.18/src/emacs.c     Sun Aug  8 07:05:34 1993
--- emacs-19.18.patched/src/emacs.c     Sun Aug 15 10:57:06 1993
***************
*** 221,227 ****
--- 221,229 ----
  {}
  __do_global_dtors ()
  {}
+ #ifndef LINUX
  char * __CTOR_LIST__[2] = { (char *) (-1), 0 };
+ #endif
  char * __DTOR_LIST__[2] = { (char *) (-1), 0 };
  __main ()
  {}
diff -r -c emacs-19.18/src/s/linux.h emacs-19.18.patched/src/s/linux.h
*** emacs-19.18/src/s/linux.h   Fri Jun 18 20:56:22 1993
--- emacs-19.18.patched/src/s/linux.h   Sun Aug 15 10:57:39 1993
***************
*** 217,221 ****
  /* Rob Malouf <malouf@csli.stanford.edu> says:
     SYSV IPC is standard a standard part of Linux since version 0.99pl10,
     and is a very common addition to previous versions.  */
! #define LIBS_MACHINE -lipc
  #define HAVE_SYSVIPC
--- 217,227 ----
  /* Rob Malouf <malouf@csli.stanford.edu> says:
     SYSV IPC is standard a standard part of Linux since version 0.99pl10,
     and is a very common addition to previous versions.  */
! /* #define LIBS_MACHINE -lipc */
! #define LIBS_MACHINE /* JvO */
  #define HAVE_SYSVIPC
+ 
+ #define HAVE_FREXP /* JvO */
+ /* #undef __CTOR_LIST__ /* JvO */
+ 
+ #define PATH_MAX 64  /* JvO is realy a kernel patch */

-- 
-- Ir. Jan van Oorschot.          --- Email: J.P.M.vOorschot@et.tudelft.nl --
-- Data Network Performance Analysis Project                               --
-- CARDIT, Delft University of Technology ------------ Tel: (31)-15-786179 --
-- P.O.Box 5031, 2600 GA Delft, The Netherlands ------ Fax: (31)-15-784898 --

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Activists-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux) via:

    Internet: Linux-Activists@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    tupac-amaru.informatik.rwth-aachen.de	pub/msdos/replace

The current version of Linux is 0.99pl9 released on April 23, 1993

End of Linux-Activists Digest
******************************
