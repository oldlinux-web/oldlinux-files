From:     Digestifier <Linux-Development-Request@senator-bedfellow.mit.edu>
To:       Linux-Development@senator-bedfellow.mit.edu
Reply-To: Linux-Development@senator-bedfellow.mit.edu
Date:     Tue, 2 Nov 93 19:13:13 EST
Subject:  Linux-Development Digest #206

Linux-Development Digest #206, Volume #1          Tue, 2 Nov 93 19:13:13 EST

Contents:
  Re: Is there an implementation of tsearch... (Gerd Rausch)
  Re: What's wrong with a DOS to Linux disk access? (K J MacDonald)
  WILL ???BSD DIE? (Jesus Monroy Jr)
  Re: What's wrong with a DOS to Linux disk access? (Marc ter Horst)
  Re: ugly name for core dumps (core.imagenam (Michael Chapman K8/EIS1. Tel. 1662)
  Re: WILL ???BSD DIE? (Peter Galbavy)
  rcp broken? (Johann Friedrich Heinrichmeyer)
  Re: modem dialing problems (Tan Tran)
  rcp broken? (Johann Friedrich Heinrichmeyer)
  new Berkeley DB - anyone? (Christian Kuhtz)
  Re: WILL ???BSD DIE? (Reid Simpson)
  [Q] kill system call and effective uid (Walter Wolfgang)
  Re: GCC crashing Linux: kernel bug (Markus Kuhn)
  Re: modem dialing problems (Brian G Long)

----------------------------------------------------------------------------

From: eedger@teamos41.ericsson.se (Gerd Rausch)
Subject: Re: Is there an implementation of tsearch...
Date: Tue, 2 Nov 1993 00:23:57 GMT

You can use the minix version for example.
look at nic.funet.fi under /pub/minix/unsorted/tsearch.shar
It should compile out of the box
--
Don't let the ".se" fool you

____/|  Gerd Rausch
\ o.O|
 =(_)=  voice: +49-2407-575-353
   U    email: eedger@aachen.ericsson.se

------------------------------

From: kenny@festival.ed.ac.uk (K J MacDonald)
Subject: Re: What's wrong with a DOS to Linux disk access?
Date: Mon, 1 Nov 1993 23:01:53 GMT

Ian Wells (ijw@bob.cambustion.co.uk) wrote:

: preferably something along the lines of PCNFS, which creates an
: apparently DOS file system on an unused drive letter.  Still, each to
: his own, I suppose, and this is secondary to actually reading file
: systems, anyway.

: Better would be trying to write a DOS VFS base to take the place of
: the one that Linux uses.  I haven't a clue as to whether this is

        Yes,  I think this is the way to go, if it's ever going to
happen. This would be of great interest to people wishing to backup to
the floppy interface QIC-80 drives too.
        Security is an issue. Should it read the /etc/passwd file?
Should the DOS user have to give a UID? Or should the program simply be
kept on a floppy in a locked drawer? If somebody can get to your
machine, then they can always boot with a boot floppy, and get onto the
filesystem that way, so maybe a DOS based filesystem reader isn't much
more of a risk.
        There is a program floating around to read the raw partitions
from DOS, written to aid backing up I think. Apologies to the author, as
I can't remember his name! Merging this with a hacked filesystem source
could be somewhere to start. 

        Kenny.
-- 
==============================================================================
Kenneth MacDonald                E-mail: kenny@ed
Dept. of Geology & Geophysics   "Allow me to introduce myself, Major Dennis
University of Edinburgh          Bloodnok, International Christmas Pudding

------------------------------

Crossposted-To: comp.os.mach,comp.os.os2.programmer.misc,comp.os.minix,comp.periphs,comp.unix.bsd,comp.unix.pc-clone.32bit,comp.os.386bsd.development,comp.os.386bsd.bugs,comp.os.386bsd.apps,comp.os.386bsd.questions,comp.os.386bsd.misc
From: jmonroy@netcom.com (Jesus Monroy Jr)
Subject: WILL ???BSD DIE?
Date: Tue, 2 Nov 1993 11:15:11 GMT

mail  cgd@agate.berkeley.edu
Re: Subject: Status of 386BSD FTP Site on agate.berkeley.edu
 
        I've cross-posted this to the other PD OSes, because
        it's time to move on.
 
        FANS, this is going to be ....
 
>> Date: 1 Nov 1993 19:41:25 -0800
>>
>> Barring serious objections, the 386BSD FTP Site on agate.berkeley.edu
>> will be disappearing on December 1, 1993.
>>
        You must be kidding.  Please define a "serious objection".
 
>> There are several reasons for this:
>>
>>     (1) the 386BSD ftp site is taking up approximately 120M
>>         of disk space, which can be better used for other
>>         things.
>>
        Yes, I here NETBSD might actually need this space.
 
        Is this true?
 
>>     (2) the 386BSD 0.1 release is no longer very useful;
>>         it is old, and newer, more stable and usable
>>         releases have been made.
>>
        This is an opinion. That you hold. Please substitute
        this with some meaningful jargon.
        Like, what it is that you consider to be
        "more stable and usable".  Obviously not enough
        people have jumped ship for you to consider NETBSD
        as un-useful.
 
 
>>     (3) For all intents and purposes, 386BSD 0.1 is 'unsupported'.
>>
        This is argueable.
 
 
>>         There was an unofficial patch kit at one point,
>>         but that has since been abandoned, and support by
>>         the author has always been minimal.
>>
        The unofickel patch kit died a happy death.
        Why you should point this out is just the type of
        retoric I expect from you.
 
        YES,,, I'm taking your comments on.
 
        I've been wondering for quite a while as to your
        "official-unoffical" status.
 
        As the moderator of  "announce" your role has at best been
        obtrusive.  I know from my own past experience that the
        pitifull excuses, and muses you contrive bear a real
        relivence to a certain purple dinasour.
 
>> Therefore, considering that 386BSD 0.1 has little futher useful
>> purpose, is unsupported and only marginally usable, that we need
>> the disk space, and that there are better alternatives available,
>> I propose that it is yanked from the agate.berkeley.edu ftp site.
>>
        Why did you even bother to ask?
 
 
>> If you have comments on this, please send them to me, and i will
>> take them into consideration.
>>
        Give me a break...
 
 
            I am as frustrated as anyone else working on the project.
    Be it that it is, promises were made to individual and promises were
    broken.   From what I can see nearly 1/2 of those involved should
    keep there day jobs. The remaining 90% have probabely never seen
    the inside of PC, let alone write some serious code for this
    overgrown Altair.
 
            So I guess this is as good as any time to pull and
    Osborne.  ........YES, YES, YES,  Let's announce the new model
    before there is enough money to make it.  Seriously I expect you
    are trying to belay the entire project.  Others won't say
    publically, but I will.
 
        IF EVER THERE WAS A TIME FOR YOU TO RESIGN THIS IS IT.
 
        Resign as moderator, and delete to your hearts content. I've
    had enough bickering from the so-called proponents of a stable
    OS.  Get off the pot, buddy  -- someone else needs to use the can.
 
 
        Many other groups have fine ideas for improving this obsolete
    beast.  Let's hear them.   I constantely read of real improvements
    made to LINUX, MINX (ha isn't that funny), Coherent, and OS/2.
 
        OK, not all ideas are great, not all ideas work, but without
    listening there is no use kidding ourselves.   THIS PROJECT WILL
    DIE.   I wonder how people put up with the constant retort.
 
        "I've done this and that.. what have you done?", constantly,
    cursing the thing they need most.
 
        Those of you that wonder where I've been -- I've been busy,
    with a real project where money pays and if someone objects to
    my code... I modify.
 
        Some people have a religious intent with *BSD, I don't.
 
        CHRIS resign.  Take your merry men with you.  While your at it
    take those (subsubsub) contractors to BSDI with you.
    You (subsubsub) contractors don't write to tell me how useless
    your code is.  Hackers in general -- don't take this personally.
    I've just had enough... not enough to quit... but just enough to
    tell people where to go for Christmas.   Those of you working on
    FreeBSD have my opinions.
 
        This leaves the people who like me.. well may all five of us
    can get together someday.  I guess we'll call it the
 
        "We get pead-on for speak our own opinion".
 
        That's all I have to say... missspellingsss and alll/
 
___________________________________________________________________________
Jesus Monroy Jr                                          jmonroy@netcom.com
Zebra Research
/386BSD/device-drivers /fd /qic /clock /documentation
___________________________________________________________________________


------------------------------

From: mht@nuclint.nl (Marc ter Horst)
Subject: Re: What's wrong with a DOS to Linux disk access?
Date: Tue, 2 Nov 1993 11:12:35 GMT

In article <1993Nov1.234432.25077@cc.gatech.edu> byron@cc.gatech.edu (Byron A Jeff) writes:
>From: byron@cc.gatech.edu (Byron A Jeff)
>Subject: Re: What's wrong with a DOS to Linux disk access?
>Date: Mon, 1 Nov 1993 23:44:32 GMT

>In article <CFtHwr.2p6@cs.utwente.nl>,
>Steef S.G. de Bruijn <debruijn@cs.utwente.nl> wrote:
>>Again about security: Maybe a sort of FTP server just for
>>copiing files from and to the Linux FS AFTER legally logging
>>in...
>>

>Considering that Linux won't be running at the time, I think that's going
>to be some magic trick.

>However since you'll have access to the password (and shadow I guess) files
>you can force the person to give a login and password before allowing file 
>transfer.

Sure, and if they've got source code it's no problem getting around the 
password stuff !

>Since I only have Linux on my machine, none of this affects me personally.

>Later,

>BAJ
>---

Marc

------------------------------

From: mchapman@eis.k8.rt.bosch.de (Michael Chapman K8/EIS1. Tel. 1662)
Subject: Re: ugly name for core dumps (core.imagenam
Date: 2 Nov 93 12:32:49 GMT
Reply-To: mchapman@eis.k8.rt.bosch.de

Isn't this stuff defined in POSIX or X/Open?

If so, there there should be no need for any debate. We should implement
it like it says as being standard is more important than minor differences
in taste....

==============================================================================
Mike Chapman                 e-mail: mchapman@eis.k8.rt.bosch.de (office)
fax: (+49) 7121/35-1746              Mike.Chapman@isis.seicom.de (home)
tel: (+49) 7121/35-1662 (office)        


------------------------------

From: peter@micromuse.co.uk (Peter Galbavy)
Crossposted-To: comp.os.mach,comp.os.os2.programmer.misc,comp.os.minix,comp.periphs,comp.unix.bsd,comp.unix.pc-clone.32bit,comp.os.386bsd.development,comp.os.386bsd.bugs,comp.os.386bsd.apps,comp.os.386bsd.questions,comp.os.386bsd.misc
Subject: Re: WILL ???BSD DIE?
Date: 2 Nov 1993 13:13:38 GMT
Reply-To: peter@micromuse.co.uk

In article <jmonroyCFv39C.Iv1@netcom.com>, jmonroy@netcom.com (Jesus Monroy Jr) writes:
+ >> Barring serious objections, the 386BSD FTP Site on agate.berkeley.edu
+ >> will be disappearing on December 1, 1993.
+ >>
+         You must be kidding.  Please define a "serious objection".

No one installs this from scratch anymore... fact.

+         Yes, I here NETBSD might actually need this space.

It's worth more (so's FreeBSD).

[... lots of JM Jr crap deleted...]

+         Give me a break...

Which leg ???

If you are so concrened then why don;t you put up some money, get a
system that well connected and make the 386BSD 0.1 distribution
available there if you are so concerned.

Remember - you get what you pay for.

All encouragment to the *BSD teams who are actually doing work, unlike
some of us (me included) who just sit back and occasionally critisise.
(ok - I can't spell :-)
-- 
Peter Galbavy                                   work: peter@micromuse.co.uk
+44 81 875 9500                                 home: peter@wonderland.org
===========================================================================
"Bad planning on your part does not constitue an emergency on mine." - 
                                        Please attribute this quote. Thanx.

------------------------------

From: jfh@ES-sun2 (Johann Friedrich Heinrichmeyer)
Subject: rcp broken?
Date: 2 Nov 1993 13:03:15 GMT

the rcp programm does no more work with linux0.99p13p?
(okay, nfs is a good replacement for it and it works...).
Any explanation?

--
Fritz Heinrichmeyer          Tel.:  02371/566-243
FernUniversitaet Hagen       FAX:   02371/52212
Lehrgebiet ES                EMAIL: fritz.heinrichmeyer@fernuni-hagen.de
Frauenstuhlweg 31
58644 Iserlohn
Germany

------------------------------

From: ttran@copland (Tan Tran)
Subject: Re: modem dialing problems
Date: Tue, 2 Nov 1993 13:54:19 GMT

roble@CS.Arizona.EDU (Garcia G Roble) writes:
: Hi, I just installed linux SLS in my PC clone (486DX, 8 MB RAM 
: 210 MB HD), and every thing has been working Ok, except that
: the modem access to my University is having problems. 
: I have an internal bayes compatible 2400 bps modem. I am using
: kermit. After the kermit prompt I dial a phone number. The modem
: starts sending its request of connection, as it does with the
: DOS program (procomm). But after the I get the connection, the message
: "call complete" appears, and then the prompt from the kermit is
: there waiting for the next command. I have read the FAQs, but no
: one is related with this. 
: 
: Any help will be appreciated.
: Send me your help to: roble@caslon.cs.arizona.edu (Saul Robles)
: 
: thanks
: Saul
:
You can then proceed and type connect at the kermit prompt. This will
allows connection to a remote host (as if you are doing telnet or
rlogin).

Tan 

------------------------------

From: jfh@ES-sun2 (Johann Friedrich Heinrichmeyer)
Subject: rcp broken?
Date: 2 Nov 1993 15:21:40 GMT

I have to apologize, the problem went away after compiling the
kernel new (i have no idea what happened).


--
Fritz Heinrichmeyer          Tel.:  02371/566-243
FernUniversitaet Hagen       FAX:   02371/52212
Lehrgebiet ES                EMAIL: fritz.heinrichmeyer@fernuni-hagen.de
Frauenstuhlweg 31
58644 Iserlohn
Germany

------------------------------

From: chk@data-hh.Hanse.DE (Christian Kuhtz)
Subject: new Berkeley DB - anyone?
Date: 1 Nov 1993 09:34:45 -0600


Hi,

anyone out there who has ported the new Berkeley DB stuff to Linux? Or knows
where the Berkeley DB port is located? 

Thanks in advance,
Kind regards,
   Chris


-- 
         Christian Kuhtz, Grüner Weg 69c, 22851 Norderstedt, Germany
        +49-40-5244138, 16-23 MST DST, 9-17 CDT, chk@data-hh.Hanse.DE

------------------------------

Crossposted-To: comp.os.mach,comp.os.os2.programmer.misc,comp.os.minix,comp.periphs,comp.unix.bsd,comp.unix.pc-clone.32bit,comp.os.386bsd.development,comp.os.386bsd.bugs,comp.os.386bsd.apps,comp.os.386bsd.questions,comp.os.386bsd.misc
From: simpson@Xylogics.COM (Reid Simpson)
Subject: Re: WILL ???BSD DIE?
Date: Tue, 2 Nov 1993 15:39:05 GMT

In article <jmonroyCFv39C.Iv1@netcom.com>, jmonroy@netcom.com (Jesus Monroy Jr) writes:
|> mail  cgd@agate.berkeley.edu
|> Re: Subject: Status of 386BSD FTP Site on agate.berkeley.edu
|>  
|>         I've cross-posted this to the other PD OSes, because
|>         it's time to move on.

We wouldn't expect anything less from you...


|>         That's all I have to say... missspellingsss and alll/

Do you promise!?!?!

Nawww, I'll bet you're just teasing us... I'm sure you'll need to reply to at
least a few of the flames you're hoping to get. Talk about a high-maintenance
ego! Sheesh!!!

|>  
|> ___________________________________________________________________________
|> Jesus Monroy Jr                                          jmonroy@netcom.com
|> Zebra Research
|> /386BSD/device-drivers /fd /qic /clock /documentation
|> ___________________________________________________________________________
|> 

-- 

===============================================================================
Reid Simpson                                                     Xylogics, Inc.
Software Engineer                            53 Third Ave. Burlington, MA 01803
simpson@Xylogics.COM                                               617-272-8140

------------------------------

From: walterw@Informatik.TU-Muenchen.DE (Walter Wolfgang)
Subject: [Q] kill system call and effective uid
Date: Tue, 2 Nov 1993 16:29:16 GMT



In the man-page for the kill system call I read that a non privileged user can kill a process, if his real or effective uid correspondents to the real or effective uid of the process.
I took a look at the kernel sources (0.99.13) and this seems to be correct.
I wrote a small almost-do-nothing program which runs with ruid root and does a seteuid(non-privileged-user-id) (which should not change its saved euid, its still 0, I'm right ?) to test if I can kill it as non-privileged-user, and I could.
So I think the manual page and the kernel agree on that.
My question is: Is this POSIX ? I thought that if _POSIX_HAS_SID (or something like that, I don't remember now, but I checked that Linux defines that constant) is defined, the saved euid should be used for the process instead of his euid.
This is what STEVENS says in his book about programming in the unix environment.

I ask that because I have the following problem:

I run the nfsd daemon (net-2) (it is started from rc.inet2). Its strategie to obey users permissions is to change its euid to the users one (with setreuid(-1,userid)).
Now think of two machines A,B, where A runs Linux and exports some volumes via nfs to B. User blob has accounts on both machines (both uid 100, as linux nfsd does no translation now). Blob is logged in in A and B.
Now he can cats a file on A from B via nfs: nfsd (A) now has euid 100.
So he can kill nfsd (A). (this happened to me accidently).

If linux would check against the saved euid, I think there would be a simple solution: replacing setreuid(-1,userid) by seteuid(userid), as the last system call would not change the saved euid (is this correct ?)
Otherwise the only one would be to rewrite nfsd totally, so that there's no need to change the euid to the users one, or to fork (which don't need big changes).
I changed nfsd so that it changes its euid back to root after he had done a request, so that it isn't probable to kill it accidently.
But there still is the problem:
I don't see a way that a process cannot change his euid to one of a real user without that user beeing able to kill it, which is especially bad for rpc servers (if with kill -KILL). (and this is my second question: is there one ?)


Wolfgang Walterw
(walterw@mathematik.tu-muenchen.de)

------------------------------

From: unrza3@cd4680fs.rrze.uni-erlangen.de (Markus Kuhn)
Subject: Re: GCC crashing Linux: kernel bug
Date: Tue, 2 Nov 1993 17:38:14 +0100
Reply-To: mskuhn@cip.informatik.uni-erlangen.de

greg@loose.apana.org.au (Greg Patten) writes:

>And me..running X and getting into swap (I have 8M) is a sure way
>to ensure a reboot. Large compiles (eg. an new kernel) also cause
>the infamous sig-11 death (hehe - and I thought it was just me).

Without a detailed description of your hardware configuration, reports
like these are pretty useless for the developpers!

Markus

-- 
Markus Kuhn, Computer Science student «°o°» University of Erlangen, Germany
Internet: mskuhn@cip.informatik.uni-erlangen.de   |   X.500 entry available

------------------------------

From: Brian G Long <bl2y+@andrew.cmu.edu>
Subject: Re: modem dialing problems
Date: Tue,  2 Nov 1993 11:45:28 -0500

        After you are back at the kermit> prompt just type connect..

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Development-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.development) via:

    Internet: Linux-Development@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Development Digest
******************************
