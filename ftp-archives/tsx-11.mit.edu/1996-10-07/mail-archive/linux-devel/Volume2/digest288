From:     Digestifier <Linux-Development-Request@senator-bedfellow.mit.edu>
To:       Linux-Development@senator-bedfellow.mit.edu
Reply-To: Linux-Development@senator-bedfellow.mit.edu
Date:     Mon, 10 Oct 94 21:13:05 EDT
Subject:  Linux-Development Digest #288

Linux-Development Digest #288, Volume #2         Mon, 10 Oct 94 21:13:05 EDT

Contents:
  mounting > 32 drives (john taylor)
  Re: ext2fs vs. Berkeley FFS (Ian McCloghrie)
  Re: [Bug?] S3 805 Only In 80x25 (Jon Thackray)
  Hardware PROBLEM HELP! (Axel Winter)
  Re: Status of Linux and Distributions security (Cees de Groot)
  Re: Anyone have luck installing Linux/68k? (Brian J. Swetland)
  Re: NIS on Linux (Andrea Dell'Amico)
  Re: Telnet & ftp freeze! - AND UNFREEZE KLUDGE (System Administrator)
  Re: Any threads package ? (Dimitris Evmorfopoulos)
  SUMMARY: Weird linux hangs kernel 1.0.9 -> 1.1.51 inclusive (Paul Erkkila)
  Re: ext2fs vs. Berkeley FFS (Peter Mutsaers)
  Re: strange lockups, bizarre networking... (Steve Kneizys)
  Re: ext2fs vs. Berkeley FFS (Peter Eriksson)
  Re: A badly missed feature in gcc (Steven M. Doyle)
  Re: Improving SLIP latency under Linux (Frank Lofaro)

----------------------------------------------------------------------------

From: taylor@pollux.cs.uga.edu (john taylor)
Subject: mounting > 32 drives
Date: 5 Oct 1994 05:44:56 GMT

I would like to mount more than 32 drives, but the mount program will
not let me. Is there a #define somewhere /usr/src/linux/include/linux
that I can change to fix this. I looked, but was unable to find it in
the code. Any ideas on how I can mount more than 32 drives?


Thanks,
John



------------------------------

From: ianm@qualcomm.com (Ian McCloghrie)
Subject: Re: ext2fs vs. Berkeley FFS
Date: 10 Oct 1994 10:32:33 -0700

plm@atcmp.nl (Peter Mutsaers) writes:

>This will break existing code; there are programs that assume that ':'
>is part of a filename. The *only* character that cannot be part of a
>filename is the '/', which is the directory separator.

Actually, you could probably use "..." without breaking much.

>It is basic in the Unix philosophy that files are untyped and that the
>kernel does not care what is in the file. Adding such things is
>completely against the Unix way of thinking.

Indeed, I completely agree.  Look at the mess involved in resource vs
data forks on Macintosh files?  Tranferring mac files across unix
or dos platforms requires weird encoding tools, they can't just be
dumped as binary data.

--
Ian McCloghrie    work: ianm@qualcomm.com     home: ian@egbt.org
  ____   GCS d-- H s+:+ !g p? au a- w+ v- C++$ UL++++ US++$ P+>++
  \bi/   L+++ 3 E+ N++ K--- W--- M-- V-- -po+ Y+ t+ 5+++ jx R G'''
   \/    tv- b+++ D- B-- e- u* h- f+ r n- y*

The above represents my personal opinions and not necessarily those
of my employer, Qualcomm Inc.

------------------------------

From: jrmt@froggy.demon.co.uk (Jon Thackray)
Subject: Re: [Bug?] S3 805 Only In 80x25
Date: 9 Oct 1994 18:57:41 +0100

S L Herbert writes:
>A friend of mine recently bought a no-name video card which has the S3 805
>chipset.  He is unable to change the text-mode on boot-up from 80x25, with
>the Linux 1.1.50 kernel.  

Same here with my S3 911. Just change the relevant line in linux/boot/setup.S
as appropriate. I found that S3 is defined only for the 2 standard SVGA
modes. Mine can also do the ones that my old TSENG ET4000 could too, so
I'm happily working in 132x42 :-)

I now have:

mo_S3:          .byte   0x04,   0x54, 0x55
mounknown:      .byte   0x07,   0x26, 0x2a, 0x23, 0x24, 0x22

since my 911 card is 'unknown'. 

BEWARE: This _might_ damage your card/monitor. It's a hack which I've
found to work (and I've got a multisync monitor that won't easily damage...)

Cheers,
Jon.
-- 
// Jon Thackray. +44 (0)1494 721234     ><>
//   ``That's the way the mop flops...''

------------------------------

From: wintera@morakot.nectec.or.th (Axel Winter)
Subject: Hardware PROBLEM HELP!
Date: 8 Oct 1994 04:21:04 GMT

Sorry just realized that this is the Devel. area ... Sorry,
should be help or misc ... Anyway may be somebody can proabbly
help ...

Axel


------------------------------

From: cg@tricbbs.fn.sub.org (Cees de Groot)
Subject: Re: Status of Linux and Distributions security
Date: 5 Oct 1994 00:43:36 +0100

In article <36o1rs$8bh@vixen.cso.uiuc.edu>,
Daniel L. Marks <dlm40629@uxa.cso.uiuc.edu> wrote:
>How do the recent linux kernels (1.1.45+) and the various distributions
>(Slackware, SLS, Debian) compare to commercial UNIX offerings such as
>SCO, UnixWare, and BSDI for the number of security holes each is known
>to have?
>
Last December, we spent a few days to test the whole range of security
holes known to me and two friends of mine. Linux just didn't give in...

>Linux's reptuation would seem to me to be partially based on its perceived
>efficacy in preventing system break-ins and crashes.  Does Linux have
>the kind of safety record that should earn it the kind of reputation
>that the commerical UNIXes have?
>
I wouldn't talk too much about the reputation of commercial Unixes (or
products for commercial Unixes, for that matter). You could be starting
a flame war. Our conclusion was (on Slack 1.1.0 and 0.99pl15) that Linux
was as least as secure as SCO (with which we have most experience),
probably as secure as a bunch of other Unixes), and certainly stabler
(some simple assembly hacking on SCO, fiddling with the nested task flag,
gives real nice crashes on SCO. Linux just reacted (as far as I recall) with
a simple segmentation violation).

OK, there *was* the infamous login-bug, which nobody wants to be reminded
about anymore, but even VMS has had such emergency cases...

(If you want to be *secure*, buy SVMS, which has a B2 rating. Or talk to
some nice Digital engineers, maybe they'll give you a copy of an experimental
OS that was rated A1 :-))

-- 
Cees de Groot, Lake of Konstanz, Germany 
PGP23a:  73 5D BA 7C F8 EF DD 65  56 68 AF BB 2B 58 2C 8B 
  Running Windows on a Pentium is like having a brand new Porsche but only
  be able to drive backwards with the handbrake on.

------------------------------

From: brian@floyd.urh.uiuc.edu (Brian J. Swetland)
Subject: Re: Anyone have luck installing Linux/68k?
Date: 5 Oct 1994 06:12:54 GMT

Jeff Simpson (jms4759@ssu037.ssu.umd.edu) wrote:
: Greetings,

:       I was wondering if anyone out there has has managed to install
: Linux 680x0?   I am preparing to install it on my A3000 but am currently
: waiting for a hard drive. One question I already have is:  After booting
: the filesys in RAM with the vmlinux  kernel, I noticed there wasn't any
: /etc/mkfs as the docs fs.readme say.  Am I missing something or just a
: little ignorant?

mkfs & fsck are in /sbin.  Unless you fix the paths, you'll end up
typing something like '/sbin/mkfs.ext /dev/sdx# ######'

I've managed to install the 680x0 version (using kernel 0.09pl3), but upon
reboot the filesystem (minix or ext2 -- it happens under both) appears
to become severely corrupted (or perhaps there is a fsck bug?).

The machine is a 2000 w/ 33MHz 68030 accelerator, 1 meg chip ram, 12
megs fast ram, two maxtor 120mb SCSI drives, installing onto a 50000
block /dev/sdb1 from affs mounted /dev/sda1.

=====
 Brian J. Swetland | Linux 1.1.49  | AutoSignatureQuote v3.7 initializing ...
 swetland@uiuc.edu | XFree86 2.1.1 | Segmentation Fault

------------------------------

From: adellam@di.unipi.it (Andrea Dell'Amico)
Subject: Re: NIS on Linux
Date: 10 Oct 1994 09:23:46 GMT

In article <ARI.94Oct7175228@athena1.cent.saitama-u.ac.jp> ari@athena1.cent.saitama-u.ac.jp (Ari Widodo) writes:
> 
> 
> Hi guys,
> 
>     I would like to run NIS on my linux, and I want to know
>  if there is a NIS packages for Linux ? 
> 

Yes, there is NIS for linux. Get the NIS HOWTO at sunsite.unc.edu:/pub/Linux/docs/HOWTO/NIS-HOWTO for more information.

>  Thanks before,
> 
>  Regards,
> 
>  Ari

Cheers,
Andrea


> --
> -----  A R I   W I D O D O    E-mail: ari@cent.saitama-u.ac.jp ----- 
> Saitama University  Dept. of Electrical and Electonic Engineering     
>       Member of ACCESS, Information Processing Center.        
--
                             _\\|//_ 
                             ( O-O )
=========================o00==(_)==00o===============================

                          Andrea Dell'Amico
                  e-mail: adellam@di.unipi.it
                          andrea@virgilio.di.unipi.it
                               student

  Universita' di Pisa, Corso di Laurea in Scienze dell'Informazione

=====================================================================


------------------------------

From: root@jaguar.tigerden.com (System Administrator)
Crossposted-To: comp.os.linux.help,comp.os.linux.misc
Subject: Re: Telnet & ftp freeze! - AND UNFREEZE KLUDGE
Date: 8 Oct 1994 22:32:20 GMT

Steve Kneizys (STEVO@acad.ursinus.edu) wrote:
: Yuri Trifanov (yuri@shimari.cmf.nrl.navy.mil) wrote:

: : > We are using SLIP!  And the problems we see are not *after* a connection
: : > is successfully opened, it is one of the system *refusing* connections
: : > (apparently).  Nearly all functions handled by inetd seem affected: 
: : > telnet logins, rlogins, ftp attempts, smail connections, attemps to do
: : > zone transfers from named by our provider's router, you name it.  Things
: : > work fine *most* of the time, but the login problems are the most
: : > persistant and visible.  In those cases, the system log *usually* shows
: : > 'connect from...' but the user never gets a prompt, or never gets a
: : > password prompt after entering username.  Netd entries in the log are
: : > 'connection refused' mostly. 

: :  you could be having problems with the resolver and tcpd, which comes
: : turned on by default in at least some distributions. if it can't
: : resolve the inaddr of the connecting host it will refuse the
: : connection.

We've done extensive work with the nameserver setup.  I don't think this 
is the cause.. more a symptom.

: I see the freeze and I only use Etherlink III 3c579 cards on the same
: wire as 3 VAXes, including our domain's name resolver.  Telnets from
: the domain resolver VAX to the Linux freeze, as does FTP, finger,
: smtp, rlogin.

I've seen it when accessing the main machine from both the local ethernet 
connecting about 8 machines, and when accessing by telnet/ftp/etc through 
the SLIP link from our service provider.  This tends to rule out the SLIP 
link or external network problems.  Everything *seems* to be pointing to 
the low level daemons and/or kernel.

--- George

------------------------------

From: dimitris@myhost.subdomain.domain (Dimitris Evmorfopoulos)
Subject: Re: Any threads package ?
Date: 10 Oct 1994 15:22:28 GMT

Bich-Cau Le (leb@cs.ucdavis.edu) wrote:
: I'm doing real-time OS simulations under Unix. Is there something
: similar to Sun's lightweight process library for Linux?

: Bich C. Le
: UC Davis

        Try the lwp package, found in sunsite.unc.edu and other ftp sites.
It may not be what you expect, but it works for me and many other people.

--
 ______      _______
|  __  \    |  _____|      devmorfo@interaccess.com Dimitris Evmorfopoulos
| |  \  |   | |___         (312)-296-6034
| |   | |   |  ___|      
| |___| |   | |_____       I saw a GNU Hurd once !. There were lots of  
|_______| * |_______| *    little GNU's running all together like crazy.

------------------------------

From: pee@cci.com (Paul Erkkila)
Subject: SUMMARY: Weird linux hangs kernel 1.0.9 -> 1.1.51 inclusive
Date: Mon, 10 Oct 1994 13:19:01 GMT


        About a week ago I posted a message about weird hangs with out
P5-90 linux box. I wanted to turn on some form of kernel debugging
or ANYTHING to figure out why it crashed. I have received about 30+ replies
and here's the results. I am only posting this since it seems to indicate
a problem with the NE2000 code.

2 -  Possible DMA conflitcs
1 -  Interrupt level / DMA conflict

27 - NE2000 clone is probably the cause.

As you can see the overwhelming majority of people having the same problem
are using the same card/clone as we are. I think this may point to a problem
with the NE2000 driver and clones ( duuhh :) ). I was even given Instructions
as to a possible fix for the NE2000 code by changing a few lines of code
in the ne.c drivers file.  I have applied these small changes and we have
lowered then number of crashes but they are still not completely gone. We
will be changing net-cards soon, to see if the problem clears up. I'll post
my experiences again once the new card has been tested


p.s. The mail for the "fix" is as follows. I have used this without asking
so I hope he doesn't mind...

---
From:    Richard Postgate (postgate@cafe.net)                      Lines: 37    
Date:    Tue Oct  4,  3:47pm                                       Chars: 1778  
Subject: Pentium/Linux crashes    
To: pee@cci.com

I'd bet money that it's your NE2000 card causing the problems...
Try changing the following and recompiling the kernel:
   Look in drivers/net/ne.c for _two_ places that contain a comment
   about a "DMA termination address check" - one is in a function
   related to packet output, the other in a packet input function.
   There will be an "if (ei_debug > 1)" or similar check around the
   block of code containing said comment. Modify the if statement
   so the block of code gets executed (e.g. add " || 1" to the if
   expression).
This drove me nuts until I found mention of it by someone else on
comp.os.linux.dev. The person who suggested the patch only suggested
changing it in one place though (I forget if it was the packet input or 
output code), so my lockup problems lessened, but did not disappear.
Haven't had a lockup since. (Well, I know of a way to lock the machine up 
in the NCR SCSI code by playing audio CD's on the CDROM, but anyway.)

[Richard Postgate]
---

-pee
-- 

------------------------------

From: plm@atcmp.nl (Peter Mutsaers)
Subject: Re: ext2fs vs. Berkeley FFS
Date: Mon, 10 Oct 1994 15:36:10 GMT

>> On 10 Oct 1994 14:50:20 GMT, hstrong@eng1.uconn.edu (Hugh Strong) said:

  HS> For instance, to open the main (data) fork of a file, one
  HS> might write

  HS>           fd = open("MyDataFile",O_RDONLY);

  HS> The icon (for a window manager) for the file could be
  HS> accessed by the following call.

  HS>           fd1 = open("MyDataFile:ICON",O_RDONLY);

  HS> The state of an editing session on the file could be
  HS> saved in yet another fork

This will break existing code; there are programs that assume that ':'
is part of a filename. The *only* character that cannot be part of a
filename is the '/', which is the directory separator.

So the only way to go is to create a directory with files in it that
belong together. It has been that way since the beginning. What is
wrong with that?

It is basic in the Unix philosophy that files are untyped and that the
kernel does not care what is in the file. Adding such things is
completely against the Unix way of thinking.

Of course, if you want to mount filesystems that have such 'compound'
files, you could map them in the Unix filesystem hierarchy as
directories that contain the various components of this file. Then all
existing programs (like cp, mv) can work without any change.

  HS> I believe that NTFS handles extended attributes in a similar way.

Unix *should not* handle attributes. Giving meaning to the different
files is up to the (user space) programs.
-- 
Peter Mutsaers                  |  AT Computing bv,  P.O. Box 1428,
plm@atcmp.nl                    |  6501 BK  Nijmegen, The Netherlands
tel. work: +31 (0)80 527248     |
tel. home: +31 (0)3405 71093    |  "... En..., doet ie het al?"

------------------------------

Crossposted-To: comp.os.linux.admin,comp.os.linux.help
Subject: Re: strange lockups, bizarre networking...
From: STEVO@acad.ursinus.edu (Steve Kneizys)
Date: 10 Oct 94 11:26:37 EST

Rob Newberry (rob@eats.com) wrote:
: As was posted several days ago, my machine is one of those which has been 
: having strange lockups the past weeks.  Basically, when I upgraded from 1.1.10 
: to 1.1.45 (and now 1.1.50), my system will occasionally hang hard.  A 
: power-reset is the only thing to bring it back.

[stuff deleted]

: Finally, one more bit of information.  Often times the hangs are preceded by 
: periods of sluggish network performance.  My telnet logins to the machine will 
: simply sit there as I type commands, then eventually they'll work.

: Also, tonight something VERY strange happened.  My Linux machine stopped 
: responding to my LAN, so I ran "arp -a".  Only two machines were listed, but 
: both had a hardware address of 00:00:00:00:00:00.

[more stuff deleted]

Some people notice, including me, that ARP did not seems to start up correctly
on these .45+ kernels.  I had to put in a PING to another machine on my site
to get ARP jump-started in my rc.local ... very strange.

Steve...

------------------------------

From: peter@ifm.liu.se (Peter Eriksson)
Subject: Re: ext2fs vs. Berkeley FFS
Date: 10 Oct 1994 16:24:46 GMT

hstrong@eng1.uconn.edu (Hugh Strong) writes:

>For instance, to open the main (data) fork of a file, one
>might write

>               fd = open("MyDataFile",O_RDONLY);

>The icon (for a window manager) for the file could be
>accessed by the following call.

>               fd1 = open("MyDataFile:ICON",O_RDONLY);

If one were to implement something like this, then it would be much
better to use the "/" character to separate the filename and the subforks...

Just a little thought.

/Peter

--
Peter Eriksson <peter@ifm.liu.se>               Linköping University,
Systems Administrator                           Department of Physics, 
Phone: +46 13 282786    (Fax: +46 13 137568)    S-581 83 Linköping, Sweden

------------------------------

From: wcreator@kaiwan.com (Steven M. Doyle)
Subject: Re: A badly missed feature in gcc
Date: 8 Oct 1994 15:30:18 -0700

In <CxCJx3.ELF@pe1chl.ampr.org> rob@pe1chl.ampr.org (Rob Janssen) writes:

>It has always amazed me how many people try to remove pieces of coding for
>debugging purposes using "comment" constructs...
>This may be required in other languages, but is not in C.  C compilers
>traditionally have had the luxury of the pre-processor, so you can just
>use:
>#if 0
>#endif

        To each his own.  I personally use both in debugging my programs,
for one reason.  I see no reason to add the #if/#endif when one or three
lines of code is being commented out.  It's much simpler just to use /**/ or
//.

>Just don't use comments for a p>urpose they weren't intended for.

        I don't think anyone but the developers of C can say that they
weren't intended for that... :)  Besides, I'd bet that those guys used
comments to remove code too.....
-- 
| Steven Doyle, AKA World Creator   | #include <std_disclaimer>              |
| Sysop, NETDimension (818)592-6279 | For information on Artificial Worlds   |
| wcreator@kaiwan.com               | send email to wcreator@kaiwan.com for  |
| wcreator@axposf.pa.dec.com        | an information package.                |

------------------------------

From: ftlofaro@unlv.edu (Frank Lofaro)
Subject: Re: Improving SLIP latency under Linux
Date: Sat, 8 Oct 94 05:32:07 GMT

In article <3745ju$qr4@ulowell.uml.edu> jrichard@cs.uml.edu (John Richardson) writes:
>In article <1994Oct7.161024.20465@unlv.edu>,
>Frank Lofaro <ftlofaro@unlv.edu> wrote:
>>
>[discussion of TOS queueing]
>>How about giving packets below a certain size higher priority?
>>That would help interactive traffic, and handle cases such as downloads 
>>though a terminal session properly.
>
>I don't know if that would work all the time... with Nagle's alg
>you can get big interactive packets (most likely screen refreshes
>etc).  
>
>--
>John Richardson
>jrichard@cs.uml.edu

Hmm, I thought Nagle's algorithm was mostly to cluster together 
outgoing data with ACK and window size change data (2 or 3 packets 
become 1).

Even if larger packet coalescing occurs, it is not a problem really 
though. It is okay if a screen refresh goes a bit slowly. (not too 
slowly though). What _IS_ critical is the very small packets, like 
tty echo and editor echoing (e.g. in emacs). If that has too high 
a latency, then editing and input becomes uncomfortable.


------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Development-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.development) via:

    Internet: Linux-Development@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Development Digest
******************************
