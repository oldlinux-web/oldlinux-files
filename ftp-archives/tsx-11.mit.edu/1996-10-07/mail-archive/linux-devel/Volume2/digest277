From:     Digestifier <Linux-Development-Request@senator-bedfellow.mit.edu>
To:       Linux-Development@senator-bedfellow.mit.edu
Reply-To: Linux-Development@senator-bedfellow.mit.edu
Date:     Fri, 7 Oct 94 21:13:15 EDT
Subject:  Linux-Development Digest #277

Linux-Development Digest #277, Volume #2          Fri, 7 Oct 94 21:13:15 EDT

Contents:
  Re: Report on gcc with P5 optimizations (NightHawk)
  Re: Improving SLIP latency under Linux (Eric J. Schwertfeger)
  Re: A badly missed feature in gcc (Thomas Koenig)
  Bug in Linux 1.1.xx Sourcetree for PCI-Bios??? (Christian Reisel)
  Flame on the attitude of Linux towards GCC development (Xiaojun Zhu)
  Re: Linux For Mac (Henry Ware)
  Unable to find XF86-3.1-lib.tar.gz with correct sum. (Kevin Ruland)
  SOLVED: SCSI tape driver problem (Nils-Henner Krueger)
  [fdformat] kernel 1.1.52 (A.Couture@agora.stm.it)
  Re: Improving SLIP latency under Linux (Carlo James Calica)
  Re: Xfree 3.1 and SPEA MirageP64 (Linux) (David Dawes)
  Adaptec AHA-2940 PCI SCSI card support.... (Edward S Peschko)
  Re: SMail security hole? (Herbert Xu)
  Re: Improving SLIP latency under Linux (Matthias Urlichs)
  Re: weird linux hangs 1.0.9 -> 1.1.51 inclusive...  (Dave Perry VA3DP)
  Re: 1.6Mb floppies under Linux? (John Gotts)
  Help with Sound FX card (Scott Shaw)

----------------------------------------------------------------------------

From: fsosi@j51.com (NightHawk)
Subject: Re: Report on gcc with P5 optimizations
Date: 6 Oct 1994 08:02:29 -0400

Mr Ivan Alastair Beveridge (zceed04@ucl.ac.uk) wrote:

: I realise that this is probably the wrong group to send to, but does anyone
: know whether the new GCC includes 586 optimisation?

Yes. But not all.

: (To justify my putting this msg here) Does this make any difference to the
: Linux kernel?

I don't have a Pentium.

NH

------------------------------

From: eric@pandora.Las-Vegas.NV.US (Eric J. Schwertfeger)
Subject: Re: Improving SLIP latency under Linux
Date: 6 Oct 1994 14:33:48 GMT

: >>Is there any way to improve/derease the latency associated with 
: >>SLIP under linux?  Specifically, when I am ftping a large file,
: >>I frequently get ping times of 6+ seconds.  This murders interactive
: >>traffic.  I've tried setting my MTU to 256, but it doesn't make
: >>any difference.

: >Not really.  It is a network problem.  Lars Fenneberg (lf@gimli.comlink.de)
: >and I are currently working on a package that would balance the load on a
: >SLIP or PPP dial-up network connection.

: I personally don't see how this can be better than TOS queuing,
: without changing the SLIP or PPP protocols.  With TOS, an interactive
: packet will always go out before any FTP packets that are waiting.

: Actually, I guess there is one thing you could do.  You could set
: things up so that if an interactive packet gets queued while a bulk
: packet is in the middle of transmission, you immediately interrupt
: the bulk packet (by sending an end-of-frame character and relying
: on the remote end to discard the incomplete frame) and start the
: interactive one instead.  Ugly, and I don't recommend it for SLIP
: (which has no link error detection).  It would improve latency
: somewhat.

How about setting the MTU based on the anticipated amount of interactive
traffic, and adjusting it based on the actual amount?  Or is the MTU set 
once for a session?

------------------------------

From: ig25@fg30.rz.uni-karlsruhe.de (Thomas Koenig)
Subject: Re: A badly missed feature in gcc
Date: 7 Oct 1994 17:09:43 GMT
Reply-To: Thomas.Koenig@ciw.uni-karlsruhe.de

David Taylor (ddt@idcube.idsoftware.com) wrote in comp.os.linux.development,
        article <9409231051.AA08511@idcube.idsoftware.com>:
>I wish gcc for Linux could handle // comments.

I don't ;-)

This would break perfectly correct C code, like

    a = b//* Comment here */ c;
--
Thomas Koenig, Thomas.Koenig@ciw.uni-karlsruhe.de, ig25@dkauni2.bitnet.
The joy of engineering is to find a straight line on a double
logarithmic diagram.

------------------------------

From: chris@alien.saar.de (Christian Reisel)
Subject: Bug in Linux 1.1.xx Sourcetree for PCI-Bios???
Date: Thu, 6 Oct 1994 21:19:53 GMT

Hello,

i just found something curious when trying to upgrade
from Slackware 1.1.19 kernel to 1.1.45.

Because patching the Slackware tree was a horrible
thing (lot's of *.rej ...) i got the 1.1.45
sourcetree from a funet-mirror. Except a few warnings
in the PCI-stuff everything compiled like a charm.
But when i tried to start the new kernel -> kernel panic!
The PCI stuff wasn't initialized!
Bios32_init worked, PCI was defined but no pcibios_init!
I looked into the sources of bios32.c and found:

                printk ("bios32_init : BIOS32 Service Directory structure at 0x%p\n", check);
                if (!bios32_entry) {
                        bios32_indirect.address = bios32_entry = check->fields.entry;
                        printk ("bios32_init : BIOS32 Service Directory entry at 0x%lx\n", bios32_entry);
                } else {
                        printk ("bios32_init : multiple entries, mail drew@colorado.edu\n");
                        return memory_start;
                        ^^^^^^^^^^^^^^^^^^^^
                }       
        }
#ifdef CONFIG_PCI
        if (bios32_entry) {
                memory_start = pcibios_init (memory_start, memory_end);
        }
#endif
        return memory_start;
}

I got a 486 PSD-IO Board with built-in NCR 53C810 chip which has multiple bios entries.
But because of this return the pcibios_init is NEVER startet!
Is this only a bug (missed to kill this line, because at the end of bios32_init,
memory_start is returned anyway) or is it a feature or didn't i understand at all
what's happening here?
If i remove this line everything works like a charm!

I would be verry glad if someone could give me a hint!

So long
   Chris

------------------------------

Crossposted-To: comp.os.linux.help,comp.os.linux.misc
From: xjzhu@math.uwaterloo.ca (Xiaojun Zhu)
Subject: Flame on the attitude of Linux towards GCC development
Date: Fri, 7 Oct 1994 06:39:33 GMT

I want to start a flame here. Please feel free to flame me as well.

Ever since the gnu c 2.6.0 compiler coming out, there are always some people
out there telling people that gcc 2.6.1 is coming out R.S.N., because
they know(yeah, I know you, you are an expert ?!?!), gcc 2.x.0 always
have bugs!!!, whenever some people
ask "could we get the new version for my linux version, PLEASE", and
no matter how sweet the plea may sounds. Because they just want to
WAIT until more bugs are fixed. 

But how could people fix those bugs? At least the gnu people? I think
mainly through people using and testing them. That's also how the
Linux itself is improving.  Linux is a big community,
lots of users are exposed to the Unixish world just through this
box. Linux kernel is built using the gnu compiler. How could we
act so selfish and just sit there and wait until somebody else fix the bugs?

Think about the scenario, when linus announced his first release of
linux and no body wanted to try that out? You know the answer,
don't you?

Oh, yeah, you could say, if you want to test them, you could always
go ahead and join the GCC channel, maybe you could get 
the more up to date code and compile and install it yourself. Oh, sure,
but some ordinally user may not have the necessary conditions to do
it, for example, lack of harddisk spaces, don't want to go through
lots of troubles(it is time consuming, you know that, GOD?)

So, please, stop sit back and wait, Start to support the gnu c development 
today. I know many of are experts(in real), if you could afford the time
and know more about things, why not help us update our compiler? Maybe
the compiler will become better faster? Don't you think? Give them more
credits. I don't think that they are dumb enough that they want to
release some bad product. We should be helping them to fix the bugs.
In fact, I have strong evidence that gcc2.6.0 is lot better than
gcc2.5.8, Also, gcc 2.6.0 is an official release.

I have just waited for so long and tired to hear about RSN.  I am also 
wondering the RSN is how soon?
Without many people using and testing them? These days, I chose not
to use my linux box, because it doesn't have an up to date
gcc compiler. I have some template class code which compiles perfectly 
well under gcc 2.6.0 but failed under gcc 2.5.8, I don't even have
the opportunity to become the bug reporter, you are not suppose
to report a bug in gcc 2.5.8 which doesn't occur in gcc 2.6.0 any more.

There are alwyas some kind soul offers to put the newer version in an
FTP site, please Don't say don't, OK! That's your personal opinion.

Your opinion?

Flame with me or flame me!!! It's a free world, isn't it?

XJ

------------------------------

From: hware@bronze.coil.com (Henry Ware)
Subject: Re: Linux For Mac
Date: 7 Oct 1994 03:36:20 -0400

In article <WRASMAN.94Oct6152442@duncan.cs.utk.edu>,
Aaron 'Raz' Wrasman <wrasman@duncan.cs.utk.edu> wrote:
>Actually could I get some info on Linux for the Mac also? 

Whats to tell?  The Linux FAQ lists no 68k mac ports, GNU doesn't support 
Apple (because of Apple's "look and feel" lawsuits), and I haven't heard 
of any (except for the PowerMac port).  

You aren't totally out of luck: our friends in the NetBSD camp seem to
have *nix running in Beta test on Macs.  NetBSD, of course, is freely 
redistributable and available by ftp.

Try:
//gatekeeper.dec.com/pub/BSD/NetBSD_Mac

Happy *nixing,
Henry
-- 
Will hack Linux for virtual beer.

------------------------------

From: kevin@rodin.wustl.edu (Kevin Ruland)
Subject: Unable to find XF86-3.1-lib.tar.gz with correct sum.
Date: 7 Oct 1994 14:26:04 GMT


I've searched the world over to find the X11R6 libs and can't find one
with the correct checksum.  gunzip even pukes on it.  It seems okay
up to ./lib/libX11.so.6

I've tried the following sites:

x.physics.su.oz.au
xfree86.cdrom.com
sunsite.unc.edu
ftp.xfree86.org
tsx-11.mit.edu

Were's the good one.

Kevin Ruland
kevin@rodin.wustl.edu


------------------------------

From: nhk@informatik.uni-kiel.d400.de (Nils-Henner Krueger)
Subject: SOLVED: SCSI tape driver problem
Date: 7 Oct 1994 10:18:02 +0100

In <36oukm$nse@link.informatik.uni-kiel.de> nhk@informatik.uni-kiel.d400.de (Nils-Henner Krueger) writes:

>I've got an annoying problem with my scsi tape drive. 
>From other systems like Sun I'm used to put several archives on
>one tape by skipping the previously written archives with "mt fsf"
>and then writing the next one. When I do this on my linux system
>it constantly fails, regardless of which kernel I'm using.

I finally solved this problem.

The solution for me was to remove any old data from the tape before using it 
again. It seems to me that the kernel tape driver or the tape bios don't like
it if there is allready something one the tape even if it is logically invalid.

What you have to do is to run mt -f /dev/tape erase on a previously used tape
before writing on it again. After that it was no problem for me to skip the first
archive with mt fsf and append another one behind.

Thanks to everybody who mailed me suggestions.


nils-henner


-- 
  Nils-Henner Krueger    Tel: xx49/431/86267
  Waitzstr. 98           email: nhk@informatik.uni-kiel.de 
  24118 Kiel                    nhkrueg@geomar.de
  Germany

------------------------------

From: A.Couture@agora.stm.it
Subject: [fdformat] kernel 1.1.52
Date: 7 Oct 1994 15:43:16 GMT

[fdformat] kernel 1.1.52

I justed installed the kernel patch 1.1.52, and now I have problem using fdformat. I abort with an IOCTRL error.

The floppy.c has been updated to handle some floppies errors. well... created new ones.??? :)

If someone else has the same problem, then it's a problem, else I will just dbl-check the patched file.

Note: append on a AST notebook, umsdos, 1.1.51->1.1.52.

Another note, I've also experiemented lately the 'suspend' feature of the notebook, which save a memory image to disk, then sh
tdown.
It works fine under linux, great, only problem is related 'also' to the floppy. When I  restart the system, the floppy start a
d won't stop until I access it (mount). Any idea???

regards
andre couture


------------------------------

From: calica@cae.wisc.edu (Carlo James Calica)
Subject: Re: Improving SLIP latency under Linux
Date: 5 Oct 1994 23:49:12 GMT

In article <36tu72$nis@ulowell.uml.edu>,
John Richardson <jrichard@cs.uml.edu> wrote:
>In article <36tl4c$ecv@agate.berkeley.edu>,
>Nick Kralevich <nickkral@po.EECS.Berkeley.EDU> wrote:
>>interactive SLIP delay during heavy ftp transfers was about 3 seconds.
>
>Anyway, in some more non-scientific testing, my patch brought
>ping times from 2000ms to 450ms during ftp sesions.
>
>Is anyone using a standard kernel with SLIP and finding interactive
>response to be OK while downloading?  
>

I use the SLIP in the standard kernel and have a generic 14.4kbps modem.
I usually get ping times of around 300ms.

I do have a problem of carrier dropping at fairly random times.  Usually
during high traffic.  I'm connecting to an Annex box.  Any ideas?

-- 
 /------------------------------+--------------------------------------\
| Carlo J. Calica               | Linux:  Choice of the GNU Generation  |
|     calica@cae.wisc.edu       | Dittos from the People's              | 
 \ University of Wisconsin      | Republic of Madison                  / 

------------------------------

Crossposted-To: comp.windows.x.i386unix,comp.os.linux.admin
From: dawes@physics.su.oz.au (David Dawes)
Subject: Re: Xfree 3.1 and SPEA MirageP64 (Linux)
Date: Fri, 7 Oct 1994 14:17:10 GMT

In article <MARTIN.94Oct6144222@karlo.zdv.uni-mainz.de>,
Christoph Martin <martin@goofy.zdv.Uni-Mainz.DE> wrote:
>
>README.S3 (in XF86-3.1-doc.tar.gz) says:
>
>>1 - Supported hardware
>>----------------------
>>
>>  ...
>>
>>S3 864, 20C498 RAMDAC, ICS2595 Clockchip
>>                SPEA MirageP64 2MB DRAM
>>
>>                        8 and 15/16 bpp
>>
>>                        ClockChip "ICS2595"
>
>I tried this in my XF86Config file. Die card ist probed correctly as
>S3 864 with 20C486 RAMDAC. But the server can't set the clockchip.
>
>What is the problem? Is it the right ClockChip statement? Has anyone
>this card running with XFree 3.1?

The ICS2595 support has a few problems.  The following is added to
that entry in the current version of README.S3:

                        Clockchip support is only preliminary and
                        on some machines problems with the first
                        mode after startup of XF86_S3 or after
                        switching back from VT have been seen;
                        switching to next mode with CTRL+ALT+'+'
                        and back seems to solve this problem

Note: the latest versions of README files can be found in the doc/ directory
on most XFree86 3.1 ftp sites.

David
--
==============================================================================
 David Dawes <dawes@physics.usyd.edu.au>    DoD#210   | Phone: +61 2 692 2639
 School of Physics, University of Sydney, Australia   | Fax:   +61 2 660 2903
==============================================================================
You feel there's no tomorrow, as you look into the water below.
It's only your reflection, and you still ain't got no place to go.
    -- Deep Purple "Sail Away"

------------------------------

From: pesc0002@gold.tc.umn.edu (Edward S Peschko)
Subject: Adaptec AHA-2940 PCI SCSI card support....
Date: Thu, 6 Oct 1994 18:43:22 GMT

hey all --

Any plans (*please*) for developing support for the AHA-2940 PCI SCSI 
board??

Ed

(ie: This really sucks. I have a $5K system, with a 4MB VRAM card (and yes,
its diamond unfortunately) 4xPlextor, etc. etc... and its TOO NEW for linux!
If something doesn't come out soon, I guess it is just going to have to be
SCO...)

------------------------------

From: herbert@greathan.apana.org.au (Herbert Xu)
Crossposted-To: comp.os.linux.help
Subject: Re: SMail security hole?
Date: 1 Oct 1994 12:55:34 +1000

William Beckner (wbeckner@darkstar.rsa.lib.il.us) wrote:
:   /foofle

:   as the line in the .forward, rather than looking for a user named 
:   "foofle" it will put the text of the letter into the root directory 
:   as a file named "foofle".  Obviously, this is highly undesireable,
:   and fortunately no one other than myself have noticed it yet. (I 
:   mentioned it to Pete, and will be getting in contact with the 
:   appropriate Linux newsgroups/lists to notify them of the problem...
:   however, I'd really rather see the problem fixed *before* I make
:   it public knowledge that such a problem exists...)

: [ ***** end of mail ***** ]

: I just tried this out (kernel version 1.1.22), and smail DOES do as the 
: above mail message states.  Does anybody know what we need to do to plug 
: the hole?  Any comments?

I am using sendmail 8.6.9 and don't have this problem.  Another reason to
switch over to sendmail I suppose.
-- 
A.  B <=> True                  B.  A <=> False
Email:  Herbert Xu ~{PmV>HI~} <herbert@greathan.apana.org.au>
PGP Key:  pgp-public-keys@pgp.mit.edu or any other key sites

------------------------------

From: urlichs@smurf.noris.de (Matthias Urlichs)
Subject: Re: Improving SLIP latency under Linux
Date: 7 Oct 1994 21:59:43 +0100

In comp.os.linux.development, article <36tu72$nis@ulowell.uml.edu>,
  jrichard@cs.uml.edu (John Richardson) writes:
> 
> Ah, I have a (sigh) Supra FAXmodem 14.4 (internal).  This has an
> internal 2k recieve buffer, I don't know of any way to turn it off
> though.
> 
Why would you want to turn off the receive buffer?

The reasonable thing to do here is to increase the baud rate you use when
talking to the modem. Remember that with error-corecting modems, every data
packet (which has no relation to the IP packets it carries) has to arrive
completely before being forwarded because the checksum must be verified,
and on a serial line there's no "Oops, discard the last fifteen characters"
command.

If you need less latency, then
1- implement priority queueing
2- use IP header compression
3- turn off error correction in the modems
4- use a smaller MTU

If you use SLIP instead of PPP, decide on one of -3- and -4-.

-- 
Damn your principles!  Stick to your party.
                                       -- Benjamin Disraeli
-- 
Matthias Urlichs        \ XLink-POP Nürnberg  | EMail: urlichs@smurf.noris.de
Schleiermacherstraße 12  \  Unix+Linux+Mac    | Phone: ...please use email.
90491 Nürnberg (Germany)  \   Consulting+Networking+Programming+etc'ing     42
          PGP: 1B 89 E2 1C 43 EA 80 44  15 D2 29 CF C6 C7 E0 DE 
      Click <A HREF="http://smurf.noris.de/~urlichs/finger">here</A>.

------------------------------

From: dp@hydra.carleton.ca (Dave Perry VA3DP)
Subject: Re: weird linux hangs 1.0.9 -> 1.1.51 inclusive... 
Date: Tue, 4 Oct 1994 17:58:13 GMT

Paul Erkkila (pee@cci.com) wrote:

:       We are having a problem with linux "hanging" on out P5 EISA/VLB
: machine. (90 mhz) . General symtoms before the hang are non-exsistent as
: far as I can tell. One minute it's up , and then boom Dead. No console control
: no net access , no cntl-alt-del. It has to be cold booted/ reset. I've read
: other posts to this group complaining of similar occurences, and would like to 
: help sort it out. Is there any kernel logging/ profiling that can be enabled
: so I can log what is going on? Disk space and logging time are NOT a 
: problem and I would really like to get to the bottom of this. I saw the kernel
: profiling option for the configure but I have no idea how to take advantage of
: this option.

We've been having similar problem on a machine with these attributes:
486dx2-66

ethernet card was NE2000, now trying 3c509

IDE 500meg hd

Was 8meg ram, now 16 meg

18 meg swap

It's been crashing about every 5 to 7 days. It sees fairly heavy use running
listproc. It kept crashing after the ram upgrade. Now we are trying a different
ethernet card (ne2000 -> 3c509) but it's too early to draw any conclusions.
The machine is located in an area where it may be suffering from "dirty" 
power, and it's a new machine, so hardware causes haven't been ruled out.
--
Dave Perry VA3DP     | Any opinions expressed here are mine and are not
dp@hydra.carleton.ca | necessarily those of Carleton University.
                     | "Moo-ahhhh" - FZ

------------------------------

From: john@jgotts.ccs.itd.umich.edu (John Gotts)
Subject: Re: 1.6Mb floppies under Linux?
Date: 6 Oct 1994 16:41:16 GMT

There are some patches on tsx-11.mit.edu to format DOS disks with more space
than usual.  Since the kernel now supports this without patches, all you need
to do is get and compile the new mtools and other utilities that come with it.

--
John Gotts (jgotts@umich.edu)  73 de N8QDW   URL: http://www.umich.edu/~jgotts
GE -d+ H s+: g-- p? !au a-- w+ v C++++ UL++++ P+>++ L++ 3- E--- N+++ K- !W M--
 V-- -po+(---) Y+ t+ 5 j+ R- G? tv b+ D B- e+ u--- h f+ r n- y? <Linux rules!>

------------------------------

From: sshaw3@pms709.pms.ford.com (Scott Shaw)
Subject: Help with Sound FX card
Date: 7 Oct 1994 15:02:46 GMT



------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Development-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.development) via:

    Internet: Linux-Development@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Development Digest
******************************
