From:     Digestifier <Linux-Development-Request@senator-bedfellow.mit.edu>
To:       Linux-Development@senator-bedfellow.mit.edu
Reply-To: Linux-Development@senator-bedfellow.mit.edu
Date:     Wed, 5 Oct 94 01:13:12 EDT
Subject:  Linux-Development Digest #266

Linux-Development Digest #266, Volume #2          Wed, 5 Oct 94 01:13:12 EDT

Contents:
  Re: What GUI to write for? (Chris Toshok)
  SCSI tape driver problem (Nils-Henner Krueger)
  Re: What GUI to write for? (Robert Graulich)
  I/O in Linux (Bo Branten)
  Re: SCSI Printer? (mac) (Peter Ivimey-Cook)
  Re: Improving SLIP latency under Linux (Michael Callahan)
  ethernet card available (loan) for driver authors (Paul Southworth)
  Re: Ip Adrress probs (Harald T. Alvestrand)
  Re: fiber optic ethernet cards (Russell Nelson)
  Re: EXTREMELY ALPHA ARCnet drivers ready for testing (Russell Nelson)
  Linux/Warp2 HPFS improper shutdown flag set.. (Arthur J Pina)
  Anyone have luck installing Linux/68k? (Jeff Simpson)
  1280x1024, Term, and System Lockup! (Joseph Bennett - PCD ~)

----------------------------------------------------------------------------

From: toshok@cs.uidaho.edu (Chris Toshok)
Crossposted-To: comp.windows.x.intrinsics,gnu.misc.discuss
Subject: Re: What GUI to write for?
Date: 03 Oct 1994 12:36:21 GMT

In article <36ieq9$j8j@clarknet.clark.net> mjf@clark.net (Marc Fraioli) writes:

   I'm currently leaning towards FWF, and possibly writing a widget or
   two of my own to fill in some of what's missing.  I'd like to hear others' 
   thoughts on this though.

 I'd also like to see a standard GUI (at least for GNU development) decided
upon.  It shouldn't be too terribly hard to come up with a widget set that
is complete and looks nice (Motifish), compiles on just about anything, and
is under the GPL.  Perhaps we could even call it GNUtif.

 I don't think Athena or Motif is the answer.  One is absolutely ugly, and
the other is absolutely overpriced (not free).  I for one would be willing
to write some widgets for a GPLed widget set.

--
+------------------------------+----------------------------------+
|Chris Toshok                  |  email: toshok@cs.uidaho.edu     |  
| of The Hungry Programmers    |                                  |
|           www: http://www.cs.uidaho.edu/~toshok                 |
+-----------------------------------------------------------------+
 On the internet, no one knows you're a CHICKEN! A GIANT CHICKEN!
    -- Denis Moskowitz

------------------------------

From: nhk@informatik.uni-kiel.d400.de (Nils-Henner Krueger)
Subject: SCSI tape driver problem
Date: 3 Oct 1994 13:49:26 +0100

I've got an annoying problem with my scsi tape drive. 
From other systems like Sun I'm used to put several archives on
one tape by skipping the previously written archives with "mt fsf"
and then writing the next one. When I do this on my linux system
it constantly fails, regardless of which kernel I'm using.

That's the drive specification as it is recognized by the kernel:

Sep 26 19:03:51 catwalk kernel: Configuring Adaptec at IO:330, IRQ 11, DMA priority 5
Sep 26 19:03:51 catwalk kernel: scsi0 : Adaptec 1542
Sep 26 19:03:51 catwalk kernel: scsi : 1 hosts.
Sep 26 19:03:51 catwalk kernel:  Vendor: TANDBERG  Model: TDC 3600  Rev: -07:
Sep 26 19:03:51 catwalk kernel:  Type:   Sequential-Access          ANSI SCSI revision: 01
Sep 26 19:03:51 catwalk kernel: Detected scsi tape st0 at scsi0, id 4, lun 0

I'm currently running kernel 1.1.51, tar 1.11.2, st-mt from slackware 2.0.

The device should be ok:

/home/nhk> ls -l /dev/nrmt0
crw-rw-rw-   1 root     root       9, 128 Nov 30  1993 /dev/nrmt0

That's what I try to do:

/home/nhk> mt -f /dev/nrmt0 fsf 1
/home/nhk> tar cvf /dev/nrmt0 doom
doom/
doom/doom1.wad
tar: can't write to /dev/nrmt0 : I/O error
/home/nhk> 

And that's the debug output if I activate "#define DEBUG" in 
/usr/src/linux/drivers/scsi/st.c:

st0: Block limits 512 - 512 bytes.
st0: Mode sense. Length 23, medium 0, WBS 10, BLL 8
st0: Density 10, tape length: 0, blocksize: 512, drv buffer: 1
st0: Block size: 512, buffer size: 32768 (64 blocks).
st0: Spacing tape forward over 1 filemarks.
st0: Block limits 512 - 512 bytes.
st0: Mode sense. Length 23, medium 0, WBS 10, BLL 8
st0: Density 10, tape length: 0, blocksize: 512, drv buffer: 1
st0: Block size: 512, buffer size: 32768 (64 blocks).
st0: Error: 28000002, cmd: a 1 0 0 3c 0 Len: 30720
extra data not valid Current error st0: sense key Illegal Request
st0: Async write error (write) 28000002.
st0: File length 30720 bytes.
st0: Error: 28000002, cmd: 10 0 0 0 1 0 Len: 0
extra data not valid Current error st0: sense key Illegal Request
st0: Error on write filemark.
st0: Buffer flushed, 1 EOF(s) written

I'm not used to interpreting such messages. Could some wizzard tell me
what's going wrong here and what I could do to append archives to a tape?

btw: The tape is NOT write protected. :-)


nils-henner


-- 
  Nils-Henner Krueger    Tel: xx49/431/86267
  Waitzstr. 98           email: nhk@informatik.uni-kiel.de 
  24118 Kiel                    nhkrueg@geomar.de
  Germany

------------------------------

From: graulich@cadis.de (Robert Graulich)
Subject: Re: What GUI to write for?
Date: 4 Oct 1994 14:50:15 +0100

Just to mention it. There is InterViews. This is a toolkit
written in C++. It sits on Xlib, not Xt.
It is distributed with the Slackware. Try it!
But beware, it heavily uses floating point arithmetik.
Without FPU you should forget it.

And with X11R6 and GCC2.6.* you can use Fresco. But this kit
isn't ready. It seems to be the followup to InterViews of MIT.

BTW. I am writing on a C++ toolkit. It will not use float arithmetik
(I only have i386 without FPU :-(. The base classes are ready.
They include a base window class with a virtual event dispatching.
If you derive e.g. a button from window, you only have to overload
the event functions, which must have another behavior than in window.
Sorry, no action binding like in Xt. (Is this needed ??).
But it supports resources.
The layout kit works fine. There are hbox, vbox and fbox (fill).
A mbox (matrix, table) must be written.

The inheritance graph looks like this:

colormap
font
gc
dispatcher

drawable ----- pixmap
           |
           --- window ----- box ----- fbox
                        |         |
                        |         --- hbox
                        |         |
                        |         --- vbox
                        |         |
                        |         --- mbox
                        |         |
                        |         --- toplevel ----- appwindow
                        |                        |
                        |                        --- popup
                        |
                        --- label
                        |
                        --- button

It will contain standard widgets like label, button, scroller, ...
The look will be motif like.

But today I have stopped the project, because there is a new
Xlib replacement called Xl written in C++ 3.1.
My toolkit has to wrap Xlib which isn't as good as I think.
If I can port Xl to Linux (or better to gcc), I will build on
top of this library. This will solve the problem of covering
fonts and graphiccontexts and other things.

Robert Graulich
graulich@cadis.de

------------------------------

From: bosse@tekla (Bo Branten)
Subject: I/O in Linux
Date: 4 Oct 1994 18:15:58 GMT

In a C program I want to have a line like this:

value = JoyStickPort();

Can you tell me how the funcktion JoyStickPort should look like to
return the value from the appropiate I/O port.


        /Bo Branten



------------------------------

From: peteric@creda.isltd.insignia.com (Peter Ivimey-Cook)
Subject: Re: SCSI Printer? (mac)
Date: Tue, 4 Oct 1994 18:06:00 GMT

Petter Gustad (pegu@scimitar.dolphinics.no) wrote:
: In article <36kgq5$gph@psu_075.sb2.pdx.edu>, mcnalley@metnet.geog.pdx.edu
: (James E. McNalley) writes:
: |>    A while ago,  a friend of  mine who had a mac SE and some sort
: |> of laser-writer that connected with a SCSI port.  When he upgraded
: |> to a PC, he asked me if there was any way he could use the LW on the
: |> PC, and I said no, since he had no SCSI card.  Now that *I* have a 
: |> SCSI  card on my linux box (1542B), I was wondering if there is a
: |> driver for scsi printers in the linux kernel, or if patches are
: |> aviable?  Thanks!

: I might be wrong, but I think you're talking about the Apple Personal
: LaserWriter SC, which is a QuickDraw rather than PostScript printer.

This may well be the case - but there do exist perfectly sensible
PostScript laser printers which are SCSI-aware. I think some of the
Tektronix Phaser Colour printers are in this category.

So, does a SCSI printer driver exist?


Thanks,

Peter.
--

===========================================================================
Peter Ivimey-Cook                       Mail Id: peteric@isltd.insignia.com
===========================================================================
Std.Disclaimer:                          My own opinions, not my employers.


------------------------------

From: callahan@maths.ox.ac.uk (Michael Callahan)
Subject: Re: Improving SLIP latency under Linux
Date: Tue, 4 Oct 94 18:52:17 BST

In article <1994Oct3.191439.12908@pvi.com>,
Christopher Michael Joslyn <chrisj@pvi.com> wrote:
>In article <36m9lc$6q0@agate.berkeley.edu>,
>Nick Kralevich <nickkral@po.EECS.Berkeley.EDU> wrote:
>>
>>Is there any way to improve/derease the latency associated with 
>>SLIP under linux?  Specifically, when I am ftping a large file,
>>I frequently get ping times of 6+ seconds.  This murders interactive
>>traffic.  I've tried setting my MTU to 256, but it doesn't make
>>any difference.
>
>The main problem is that an ftp packet is much larger than, say, a telnet or
>ping packet.  Because the ftp packet is large, the packets must be broken up
>into sizes that can be sent over the line (this is your MTU at work), thus
>the ftp packet takes longer to send.  Additionaly, an ftp connection typically
>is doing things in a batch where it is constantly pushing these large packets
>onto the queue.  Factor all things in and what you get is a long queue filled
>mostly with ftp packets and a few, notably smaller, interactive packets.

If you use recent client programs and a recent kernel, Linux PPP and
SLIP will send interactive packets before FTP ones.  Recent clients
will set the IP TOS (type-of-service) field to favor interactive
traffic, and recent kernels know to send packets with "minimize
latency" TOS before anything else.  They even know how to do this
for packets they are routing.

So, if you set up a link with a small MTU, you should get OK performance.

>>There was a thread a couple of months ago that said the problem
>>was in the kernel.  However, there was never a solution posted.

I don't remember the thread, but it is possible that it was before
the kernel did TOS queuing properly.  I think that would have been 
many months ago, though.

>Not really.  It is a network problem.  Lars Fenneberg (lf@gimli.comlink.de)
>and I are currently working on a package that would balance the load on a
>SLIP or PPP dial-up network connection.  Unfortunantly, we are just getting
>started and will be a little bit before it is complete.  The implemention at
>this time simple slices the bandwidth into equal sections so each connection
>has an equal bandwidth.  What we are planning on adding is unequal sharing.
>Interactive connections would probably have more of the bandwidth since they
>usually transmit in bursts.  The ftp connection would then be slowed during
>these bursts and then be back up to speed when nothing else is communicating.
>Of course, this kind of unequal sharing will be tunable at runtime.

I personally don't see how this can be better than TOS queuing,
without changing the SLIP or PPP protocols.  With TOS, an interactive
packet will always go out before any FTP packets that are waiting.
If the interactive traffic wants more bandwidth than is available,
there will be user-visible delays, no matter what your priority
scheme.  If it doesn't want more bandwidth than there is, it will 
get as much as it asks for, in preference to the bulk traffic.

Actually, I guess there is one thing you could do.  You could set
things up so that if an interactive packet gets queued while a bulk
packet is in the middle of transmission, you immediately interrupt
the bulk packet (by sending an end-of-frame character and relying
on the remote end to discard the incomplete frame) and start the
interactive one instead.  Ugly, and I don't recommend it for SLIP
(which has no link error detection).  It would improve latency
somewhat.

On the other hand, it's fine for people to implement whatever they
want.  Whatever floats your boat.

Michael
---
Michael Callahan
callahan@maths.ox.ac.uk

------------------------------

From: pauls@locust.cic.net (Paul Southworth)
Crossposted-To: comp.os.386bsd.development
Subject: ethernet card available (loan) for driver authors
Date: 4 Oct 1994 20:40:41 GMT


If any of the ethernet card driver authors for Linux or NetBSD or FreeBSD
want to take a whack at an SMC Elite32 EISA ethernet driver, I am willing
to loan them a spare card to work with.

--
Paul Southworth
CICNet Systems Support
pauls@cic.net

------------------------------

From: hta@uninett.no (Harald T. Alvestrand)
Subject: Re: Ip Adrress probs
Date: 4 Oct 1994 22:20:06 GMT

In article <36ihcr$htk@stratus.skypoint.com>, jim@iceworld.org (Jim Williams) writes:

|>   -------
|>   -     - Internet Provider
|>   ------- 199.86.32.100
|>      |
|>      | PPP Connect Modem
|>      |
|>      |                               The Block I was assigned was
|>   -------                    199.199.16.*
|>  |    |              
|>  |    | 199.86.32.182
|>  |       |  Iceworld.org
|>   _______       
|>      |       
|>      | etho
|>      |       
|>    ______    
|>   -   - other linux box
|>    ------  199.199.16.50
|>  
Additional comment:

Your Iceword.org box has *two* IP numbers.
The PPP connection must be 199.86.32.182, the Ethernet card must
be numbered in the 199.199.16 series.
IP numbers are assigned to interfaces, not boxes.

That way, you should be able to talk together on the LAN without problems.
-- 
                   Harald Tveit Alvestrand
                Harald.T.Alvestrand@uninett.no
      G=Harald;I=T;S=Alvestrand;O=uninett;P=uninett;C=no
                      +47 73 59 70 94
My son's name is Torbjørn. The letter between "j" and "r" is o with a slash.

------------------------------

From: nelson@crynwr.crynwr.com (Russell Nelson)
Subject: Re: fiber optic ethernet cards
Date: 03 Oct 1994 02:45:48 GMT

In article <36fop8$i8t@beowulf.gsfc.nasa.gov> becker@cesdis.gsfc.nasa.gov (Donald Becker) writes:

   In article <corey.6bae@bbs.xnet.com>, Corey Sweeney <corey@bbs.xnet.com> wrote:
   >has anyone seen a fiber optic ethernet driver, or does anyone have
   >a intention of creating one?

   If you mean ethernet adaptors that have 10baseF interfaces, Allied Telesis
   has 10baseF versions of their AT1500 (79C960 LANCE) and AT1700 (Fujitsu
   MB86965) ethercards.

Transition Engineering also has such boards.  Someone from Olicom
reported that they also have them.  I'm sure that a number of others
have them, but I don't know off the top of my head.

--
-russ <nelson@crynwr.com>    http://www.crynwr.com/crynwr/nelson.html
Crynwr Software   | Crynwr Software sells packet driver support | ask4 PGP key
11 Grant St.      | +1 315 268 1925 (9201 FAX)  | What is thee doing about it?
Potsdam, NY 13676 | LPF member - ask me about the harm software patents do.

------------------------------

From: nelson@crynwr.crynwr.com (Russell Nelson)
Subject: Re: EXTREMELY ALPHA ARCnet drivers ready for testing
Date: 03 Oct 1994 02:47:46 GMT

In article <2293@storm.LakeheadU.Ca> apenwarr@tourism.807-city.on.ca (Avery Pennarun) writes:

   NOTE:  These drivers aren't compatible with ARCether for DOS, yet.  Close,
           but not quite.  Anyone interested in tweaking, go ahead, but please
           send me the patches so we can stay organized.

And please, make your patches to the Linux driver, because ARCether
already interoperates with Novell's ARCNET driver.

--
-russ <nelson@crynwr.com>    http://www.crynwr.com/crynwr/nelson.html
Crynwr Software   | Crynwr Software sells packet driver support | ask4 PGP key
11 Grant St.      | +1 315 268 1925 (9201 FAX)  | What is thee doing about it?
Potsdam, NY 13676 | LPF member - ask me about the harm software patents do.

------------------------------

Crossposted-To: comp.os.os2.beta
From: pinaar@netftp.austin.ibm.com (Arthur J Pina)
Subject: Linux/Warp2 HPFS improper shutdown flag set..
Date: Mon, 3 Oct 1994 02:08:07 GMT

Does anyone know of a fix for this?

Someone reported earlier that Linux sees the OS/2 Warp2 HPFS partitions
as having the "improper shutdown" flag set -- well I just experienced this
problem. -- fortunately I had my Linux "doom" code in an OS/2 V2.11 partition,
so I could still access it, but, this leaves me with less accessable HPFS
space then I would like.

        Thanks - art

------------------------------

From: jms4759@ssu037.ssu.umd.edu (Jeff Simpson)
Subject: Anyone have luck installing Linux/68k?
Date: 5 Oct 1994 00:36:27 GMT

Greetings,

        I was wondering if anyone out there has has managed to install Linux 680x0?  
I am preparing to install it on my A3000 but am currently waiting for a hard drive.
One question I already have is:  After booting the filesys in RAM with the vmlinux 
kernel, I noticed there wasn't any /etc/mkfs as the docs fs.readme say.  Am I missing
something or just a little ignorant?

Any suggestions would be much appreciated.

--Thanks

------------------------------

From: jbennett@frx146.intel.com (Joseph Bennett - PCD ~)
Crossposted-To: comp.os.linux.help
Subject: 1280x1024, Term, and System Lockup!
Date: 4 Oct 1994 15:18:09 GMT

Hello.

I am running Linux on my 486 DX/2 66 PCI system.  I have been running
Term over a 14.4kb modem to dial into work, and was running at 1024x768
resolution.

Everything has been working just honky-dory.  No problems whatsoever.

Now, however, I am greedy, and have attempted to alter my Xconfig to run
X at 1280x1024 resolution.

At first, everything was fine.  I grabbed one of the examples from the
Sample-Xconfig directory, and my monitor (Nanao F550i) and video card
(ATI Mach32 PCI) were cool with it.  I dialed into work with Term, no
problems, and was able to run all but *1* of my X programs with absolutely
no hitches.

This one program, however, causes the whole system to LOCK UP!  It draws
the main window fine, and gets as far as bringing the second window up,
but when it attempts to finish drawing it, the system goes dead.  The
modem stops sending packets, the disk drive stops, mouse and keyboard
are dead.  I have to push the computer's RESET button because I am
completely dead in the water.

The program is "Vantage Spread Sheet", our VHDL simulator.

I tried a new kernel, same problem.  I went back to my older 1024x768
resolution, and it all worked fine.  Which leads me to believe that
I am not setting up the video correctly, and this is causing some
really unpredictable behavior.

Anyway, here is my video hardware setup:

    Nanao F550i 17" monitor
    ATI Mach 32 PCI video card (2 Meg RAM)

Xconfig line for 1280x1024 resolution:

    "1280x1024"  110     1280 1328 1512 1712   1024 1025 1028 1054


I had also tried this line, but my monitor apparently didn't like it (too
high a refresh rate, I'm assuming):

    "1280x1024"  135     1280 1312 1456 1712   1024 1027 1030 1064


Any help would be appreciated.  I thank everybody who already responded
to a post of mine for more Xconfig samples, even though they didn't work.
The only other piece of information I can give you is that this is
program comes up with the message "unknown X server XFree86" or something
like that when attempting to bring the program up.

As an aside, I'm kind of surprised my whole system locked up.  I really
wouldn't have expected that.  I just would have thought Term would die
or something.

Also, I'm still unclear on the concept of the three horizontal and vertical
timing numbers that appear after the pixel value.  Is there some mathematical
thing which correlates this to numbers you find in the monitor's Owners Manual?
I still can't figure it out.


Joe
-- 
Joseph Bennett - PCD ~

------------------------------


** FOR YOUR REFERENCE **

The service address, to which questions about the list itself and requests
to be added to or deleted from it should be directed, is:

    Internet: Linux-Development-Request@NEWS-DIGESTS.MIT.EDU

You can send mail to the entire list (and comp.os.linux.development) via:

    Internet: Linux-Development@NEWS-DIGESTS.MIT.EDU

Linux may be obtained via one of these FTP sites:
    nic.funet.fi				pub/OS/Linux
    tsx-11.mit.edu				pub/linux
    sunsite.unc.edu				pub/Linux

End of Linux-Development Digest
******************************
